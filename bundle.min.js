/**
 * Modules in this bundle
 * @license
 * 
 * ASO-SQLGenerator:
 *   license: MIT
 *   author: ASO-SQLGenerator
 *   homepage: https://github.com/ASO-SQLGenerator/ASO-SQLGenerator#readme
 *   version: 0.0.1
 * 
 * inherits:
 *   license: ISC
 *   maintainers: isaacs <i@izs.me>
 *   homepage: https://github.com/isaacs/inherits
 *   version: 2.0.1
 * 
 * lodash:
 *   license: MIT
 *   author: John-David Dalton <john.david.dalton@gmail.com>
 *   maintainers: jdalton <john.david.dalton@gmail.com>, mathias <mathias@qiwi.be>, phated <blaine@iceddev.com>, kitcambridge <github@kitcambridge.be>, d10 <demoneaux@gmail.com>
 *   contributors: John-David Dalton <john.david.dalton@gmail.com>, Benjamin Tan <demoneaux@gmail.com>, Blaine Bublitz <blaine@iceddev.com>, Kit Cambridge <github@kitcambridge.be>, Mathias Bynens <mathias@qiwi.be>
 *   homepage: https://lodash.com/
 *   version: 3.10.1
 * 
 * process:
 *   license: MIT
 *   author: Roman Shtylman <shtylman@gmail.com>
 *   maintainers: coolaj86 <coolaj86@gmail.com>, defunctzombie <shtylman@gmail.com>
 *   homepage: https://github.com/shtylman/node-process#readme
 *   version: 0.11.2
 * 
 * squel:
 *   author: Ramesh Nair <ram@hiddentao.com>
 *   maintainers: hiddentao <ram@hiddentao.com>
 *   contributors: Ramesh Nair <ram@hiddentao.com>
 *   homepage: https://github.com/hiddentao/squel
 *   version: 4.2.2
 * 
 * util:
 *   license: MIT
 *   author: Joyent
 *   maintainers: shtylman <shtylman@gmail.com>
 *   homepage: https://github.com/defunctzombie/node-util
 *   version: 0.10.3
 * 
 * This header is generated by licensify (https://github.com/twada/licensify)
 */
(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){
"function"==typeof Object.create?module.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(t,e){t.super_=e;var o=function(){};o.prototype=e.prototype,t.prototype=new o,t.prototype.constructor=t};

},{}],2:[function(require,module,exports){
function cleanUpNextTick(){draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue()}function drainQueue(){if(!draining){var e=setTimeout(cleanUpNextTick);draining=!0;for(var n=queue.length;n;){for(currentQueue=queue,queue=[];++queueIndex<n;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,n=queue.length}currentQueue=null,draining=!1,clearTimeout(e)}}function Item(e,n){this.fun=e,this.array=n}function noop(){}var process=module.exports={},queue=[],draining=!1,currentQueue,queueIndex=-1;process.nextTick=function(e){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];queue.push(new Item(e,n)),1!==queue.length||draining||setTimeout(drainQueue,0)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],3:[function(require,module,exports){
module.exports=function(o){return o&&"object"==typeof o&&"function"==typeof o.copy&&"function"==typeof o.fill&&"function"==typeof o.readUInt8};

},{}],4:[function(require,module,exports){
(function (process,global){
function inspect(e,r){var t={seen:[],stylize:stylizeNoColor};return arguments.length>=3&&(t.depth=arguments[2]),arguments.length>=4&&(t.colors=arguments[3]),isBoolean(r)?t.showHidden=r:r&&exports._extend(t,r),isUndefined(t.showHidden)&&(t.showHidden=!1),isUndefined(t.depth)&&(t.depth=2),isUndefined(t.colors)&&(t.colors=!1),isUndefined(t.customInspect)&&(t.customInspect=!0),t.colors&&(t.stylize=stylizeWithColor),formatValue(t,e,t.depth)}function stylizeWithColor(e,r){var t=inspect.styles[r];return t?"["+inspect.colors[t][0]+"m"+e+"["+inspect.colors[t][1]+"m":e}function stylizeNoColor(e,r){return e}function arrayToHash(e){var r={};return e.forEach(function(e,t){r[e]=!0}),r}function formatValue(e,r,t){if(e.customInspect&&r&&isFunction(r.inspect)&&r.inspect!==exports.inspect&&(!r.constructor||r.constructor.prototype!==r)){var n=r.inspect(t,e);return isString(n)||(n=formatValue(e,n,t)),n}var i=formatPrimitive(e,r);if(i)return i;var o=Object.keys(r),s=arrayToHash(o);if(e.showHidden&&(o=Object.getOwnPropertyNames(r)),isError(r)&&(o.indexOf("message")>=0||o.indexOf("description")>=0))return formatError(r);if(0===o.length){if(isFunction(r)){var u=r.name?": "+r.name:"";return e.stylize("[Function"+u+"]","special")}if(isRegExp(r))return e.stylize(RegExp.prototype.toString.call(r),"regexp");if(isDate(r))return e.stylize(Date.prototype.toString.call(r),"date");if(isError(r))return formatError(r)}var a="",c=!1,l=["{","}"];if(isArray(r)&&(c=!0,l=["[","]"]),isFunction(r)){var p=r.name?": "+r.name:"";a=" [Function"+p+"]"}if(isRegExp(r)&&(a=" "+RegExp.prototype.toString.call(r)),isDate(r)&&(a=" "+Date.prototype.toUTCString.call(r)),isError(r)&&(a=" "+formatError(r)),0===o.length&&(!c||0==r.length))return l[0]+a+l[1];if(0>t)return isRegExp(r)?e.stylize(RegExp.prototype.toString.call(r),"regexp"):e.stylize("[Object]","special");e.seen.push(r);var f;return f=c?formatArray(e,r,t,s,o):o.map(function(n){return formatProperty(e,r,t,s,n,c)}),e.seen.pop(),reduceToSingleString(f,a,l)}function formatPrimitive(e,r){if(isUndefined(r))return e.stylize("undefined","undefined");if(isString(r)){var t="'"+JSON.stringify(r).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(t,"string")}return isNumber(r)?e.stylize(""+r,"number"):isBoolean(r)?e.stylize(""+r,"boolean"):isNull(r)?e.stylize("null","null"):void 0}function formatError(e){return"["+Error.prototype.toString.call(e)+"]"}function formatArray(e,r,t,n,i){for(var o=[],s=0,u=r.length;u>s;++s)hasOwnProperty(r,String(s))?o.push(formatProperty(e,r,t,n,String(s),!0)):o.push("");return i.forEach(function(i){i.match(/^\d+$/)||o.push(formatProperty(e,r,t,n,i,!0))}),o}function formatProperty(e,r,t,n,i,o){var s,u,a;if(a=Object.getOwnPropertyDescriptor(r,i)||{value:r[i]},a.get?u=a.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):a.set&&(u=e.stylize("[Setter]","special")),hasOwnProperty(n,i)||(s="["+i+"]"),u||(e.seen.indexOf(a.value)<0?(u=isNull(t)?formatValue(e,a.value,null):formatValue(e,a.value,t-1),u.indexOf("\n")>-1&&(u=o?u.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+u.split("\n").map(function(e){return"   "+e}).join("\n"))):u=e.stylize("[Circular]","special")),isUndefined(s)){if(o&&i.match(/^\d+$/))return u;s=JSON.stringify(""+i),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=e.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=e.stylize(s,"string"))}return s+": "+u}function reduceToSingleString(e,r,t){var n=0,i=e.reduce(function(e,r){return n++,r.indexOf("\n")>=0&&n++,e+r.replace(/\u001b\[\d\d?m/g,"").length+1},0);return i>60?t[0]+(""===r?"":r+"\n ")+" "+e.join(",\n  ")+" "+t[1]:t[0]+r+" "+e.join(", ")+" "+t[1]}function isArray(e){return Array.isArray(e)}function isBoolean(e){return"boolean"==typeof e}function isNull(e){return null===e}function isNullOrUndefined(e){return null==e}function isNumber(e){return"number"==typeof e}function isString(e){return"string"==typeof e}function isSymbol(e){return"symbol"==typeof e}function isUndefined(e){return void 0===e}function isRegExp(e){return isObject(e)&&"[object RegExp]"===objectToString(e)}function isObject(e){return"object"==typeof e&&null!==e}function isDate(e){return isObject(e)&&"[object Date]"===objectToString(e)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(e){return"function"==typeof e}function isPrimitive(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||"undefined"==typeof e}function objectToString(e){return Object.prototype.toString.call(e)}function pad(e){return 10>e?"0"+e.toString(10):e.toString(10)}function timestamp(){var e=new Date,r=[pad(e.getHours()),pad(e.getMinutes()),pad(e.getSeconds())].join(":");return[e.getDate(),months[e.getMonth()],r].join(" ")}function hasOwnProperty(e,r){return Object.prototype.hasOwnProperty.call(e,r)}var formatRegExp=/%[sdj%]/g;exports.format=function(e){if(!isString(e)){for(var r=[],t=0;t<arguments.length;t++)r.push(inspect(arguments[t]));return r.join(" ")}for(var t=1,n=arguments,i=n.length,o=String(e).replace(formatRegExp,function(e){if("%%"===e)return"%";if(t>=i)return e;switch(e){case"%s":return String(n[t++]);case"%d":return Number(n[t++]);case"%j":try{return JSON.stringify(n[t++])}catch(r){return"[Circular]"}default:return e}}),s=n[t];i>t;s=n[++t])o+=isNull(s)||!isObject(s)?" "+s:" "+inspect(s);return o},exports.deprecate=function(e,r){function t(){if(!n){if(process.throwDeprecation)throw new Error(r);process.traceDeprecation?console.trace(r):console.error(r),n=!0}return e.apply(this,arguments)}if(isUndefined(global.process))return function(){return exports.deprecate(e,r).apply(this,arguments)};if(process.noDeprecation===!0)return e;var n=!1;return t};var debugs={},debugEnviron;exports.debuglog=function(e){if(isUndefined(debugEnviron)&&(debugEnviron=process.env.NODE_DEBUG||""),e=e.toUpperCase(),!debugs[e])if(new RegExp("\\b"+e+"\\b","i").test(debugEnviron)){var r=process.pid;debugs[e]=function(){var t=exports.format.apply(exports,arguments);console.error("%s %d: %s",e,r,t)}}else debugs[e]=function(){};return debugs[e]},exports.inspect=inspect,inspect.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow","boolean":"yellow",undefined:"grey","null":"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=isNullOrUndefined,exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=isSymbol,exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=isPrimitive,exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];exports.log=function(){console.log("%s - %s",timestamp(),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(e,r){if(!r||!isObject(r))return e;for(var t=Object.keys(r),n=t.length;n--;)e[t[n]]=r[t[n]];return e};

}).call(this,require('_process'),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{"./support/isBuffer":3,"_process":2,"inherits":1}],5:[function(require,module,exports){
(function (global){
(function(){function n(n,t){if(n!==t){var r=null===n,e=n===b,u=n===n,i=null===t,o=t===b,f=t===t;if(n>t&&!i||!u||r&&!o&&f||e&&f)return 1;if(t>n&&!r||!f||i&&!e&&u||o&&u)return-1}return 0}function t(n,t,r){for(var e=n.length,u=r?e:-1;r?u--:++u<e;)if(t(n[u],u,n))return u;return-1}function r(n,t,r){if(t!==t)return h(n,r);for(var e=r-1,u=n.length;++e<u;)if(n[e]===t)return e;return-1}function e(n){return"function"==typeof n||!1}function u(n){return null==n?"":n+""}function i(n,t){for(var r=-1,e=n.length;++r<e&&t.indexOf(n.charAt(r))>-1;);return r}function o(n,t){for(var r=n.length;r--&&t.indexOf(n.charAt(r))>-1;);return r}function f(t,r){return n(t.criteria,r.criteria)||t.index-r.index}function a(t,r,e){for(var u=-1,i=t.criteria,o=r.criteria,f=i.length,a=e.length;++u<f;){var c=n(i[u],o[u]);if(c){if(u>=a)return c;var l=e[u];return c*("asc"===l||l===!0?1:-1)}}return t.index-r.index}function c(n){return qn[n]}function l(n){return Mn[n]}function s(n,t,r){return t?n=Vn[n]:r&&(n=Yn[n]),"\\"+n}function p(n){return"\\"+Yn[n]}function h(n,t,r){for(var e=n.length,u=t+(r?0:-1);r?u--:++u<e;){var i=n[u];if(i!==i)return u}return-1}function v(n){return!!n&&"object"==typeof n}function _(n){return 160>=n&&n>=9&&13>=n||32==n||160==n||5760==n||6158==n||n>=8192&&(8202>=n||8232==n||8233==n||8239==n||8287==n||12288==n||65279==n)}function g(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;)n[r]===t&&(n[r]=D,i[++u]=r);return i}function y(n,t){for(var r,e=-1,u=n.length,i=-1,o=[];++e<u;){var f=n[e],a=t?t(f,e,n):f;e&&r===a||(r=a,o[++i]=f)}return o}function d(n){for(var t=-1,r=n.length;++t<r&&_(n.charCodeAt(t)););return t}function m(n){for(var t=n.length;t--&&_(n.charCodeAt(t)););return t}function w(n){return Pn[n]}function x(_){function G(n){if(v(n)&&!Cf(n)&&!(n instanceof qn)){if(n instanceof nn)return n;if(no.call(n,"__chain__")&&no.call(n,"__wrapped__"))return he(n)}return new nn(n)}function H(){}function nn(n,t,r){this.__wrapped__=n,this.__actions__=r||[],this.__chain__=!!t}function qn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Oo,this.__views__=[]}function Mn(){var n=new qn(this.__wrapped__);return n.__actions__=et(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=et(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=et(this.__views__),n}function Pn(){if(this.__filtered__){var n=new qn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Kn(){var n=this.__wrapped__.value(),t=this.__dir__,r=Cf(n),e=0>t,u=r?n.length:0,i=Vr(0,u,this.__views__),o=i.start,f=i.end,a=f-o,c=e?f:o-1,l=this.__iteratees__,s=l.length,p=0,h=Ao(a,this.__takeCount__);if(!r||T>u||u==a&&h==a)return er(e&&r?n.reverse():n,this.__actions__);var v=[];n:for(;a--&&h>p;){c+=t;for(var _=-1,g=n[c];++_<s;){var y=l[_],d=y.iteratee,m=y.type,w=d(g);if(m==B)g=w;else if(!w){if(m==L)continue n;break n}}v[p++]=g}return v}function Vn(){this.__data__={}}function Yn(n){return this.has(n)&&delete this.__data__[n]}function Gn(n){return"__proto__"==n?b:this.__data__[n]}function Jn(n){return"__proto__"!=n&&no.call(this.__data__,n)}function Xn(n,t){return"__proto__"!=n&&(this.__data__[n]=t),this}function Zn(n){var t=n?n.length:0;for(this.data={hash:go(null),set:new lo};t--;)this.push(n[t])}function Hn(n,t){var r=n.data,e="string"==typeof t||Wu(t)?r.set.has(t):r.hash[t];return e?0:-1}function Qn(n){var t=this.data;"string"==typeof n||Wu(n)?t.set.add(n):t.hash[n]=!0}function rt(n,t){for(var r=-1,e=n.length,u=-1,i=t.length,o=zi(e+i);++r<e;)o[r]=n[r];for(;++u<i;)o[r++]=t[u];return o}function et(n,t){var r=-1,e=n.length;for(t||(t=zi(e));++r<e;)t[r]=n[r];return t}function ut(n,t){for(var r=-1,e=n.length;++r<e&&t(n[r],r,n)!==!1;);return n}function it(n,t){for(var r=n.length;r--&&t(n[r],r,n)!==!1;);return n}function ot(n,t){for(var r=-1,e=n.length;++r<e;)if(!t(n[r],r,n))return!1;return!0}function ft(n,t,r,e){for(var u=-1,i=n.length,o=e,f=o;++u<i;){var a=n[u],c=+t(a);r(c,o)&&(o=c,f=a)}return f}function at(n,t){for(var r=-1,e=n.length,u=-1,i=[];++r<e;){var o=n[r];t(o,r,n)&&(i[++u]=o)}return i}function ct(n,t){for(var r=-1,e=n.length,u=zi(e);++r<e;)u[r]=t(n[r],r,n);return u}function lt(n,t){for(var r=-1,e=t.length,u=n.length;++r<e;)n[u+r]=t[r];return n}function st(n,t,r,e){var u=-1,i=n.length;for(e&&i&&(r=n[++u]);++u<i;)r=t(r,n[u],u,n);return r}function pt(n,t,r,e){var u=n.length;for(e&&u&&(r=n[--u]);u--;)r=t(r,n[u],u,n);return r}function ht(n,t){for(var r=-1,e=n.length;++r<e;)if(t(n[r],r,n))return!0;return!1}function vt(n,t){for(var r=n.length,e=0;r--;)e+=+t(n[r])||0;return e}function _t(n,t){return n===b?t:n}function gt(n,t,r,e){return n!==b&&no.call(e,r)?n:t}function yt(n,t,r){for(var e=-1,u=Df(t),i=u.length;++e<i;){var o=u[e],f=n[o],a=r(f,t[o],o,n,t);(a===a?a===f:f!==f)&&(f!==b||o in n)||(n[o]=a)}return n}function dt(n,t){return null==t?n:wt(t,Df(t),n)}function mt(n,t){for(var r=-1,e=null==n,u=!e&&Zr(n),i=u?n.length:0,o=t.length,f=zi(o);++r<o;){var a=t[r];u?f[r]=Hr(a,i)?n[a]:b:f[r]=e?b:n[a]}return f}function wt(n,t,r){r||(r={});for(var e=-1,u=t.length;++e<u;){var i=t[e];r[i]=n[i]}return r}function xt(n,t,r){var e=typeof n;return"function"==e?t===b?n:or(n,t,r):null==n?Ri:"object"==e?zt(n):t===b?Si(n):Dt(n,t)}function bt(n,t,r,e,u,i,o){var f;if(r&&(f=u?r(n,e,u):r(n)),f!==b)return f;if(!Wu(n))return n;var a=Cf(n);if(a){if(f=Yr(n),!t)return et(n,f)}else{var c=ro.call(n),l=c==Y;if(c!=X&&c!=q&&(!l||u))return Dn[c]?Jr(n,c,t):u?n:{};if(f=Gr(l?{}:n),!t)return dt(f,n)}i||(i=[]),o||(o=[]);for(var s=i.length;s--;)if(i[s]==n)return o[s];return i.push(n),o.push(f),(a?ut:$t)(n,function(e,u){f[u]=bt(e,t,r,u,n,i,o)}),f}function At(n,t,r){if("function"!=typeof n)throw new Ji(z);return so(function(){n.apply(b,r)},t)}function jt(n,t){var e=n?n.length:0,u=[];if(!e)return u;var i=-1,o=Mr(),f=o==r,a=f&&t.length>=T?_r(t):null,c=t.length;a&&(o=Hn,f=!1,t=a);n:for(;++i<e;){var l=n[i];if(f&&l===l){for(var s=c;s--;)if(t[s]===l)continue n;u.push(l)}else o(t,l,0)<0&&u.push(l)}return u}function kt(n,t){var r=!0;return No(n,function(n,e,u){return r=!!t(n,e,u)}),r}function It(n,t,r,e){var u=e,i=u;return No(n,function(n,o,f){var a=+t(n,o,f);(r(a,u)||a===e&&a===i)&&(u=a,i=n)}),i}function Rt(n,t,r,e){var u=n.length;for(r=null==r?0:+r||0,0>r&&(r=-r>u?0:u+r),e=e===b||e>u?u:+e||0,0>e&&(e+=u),u=r>e?0:e>>>0,r>>>=0;u>r;)n[r++]=t;return n}function Ot(n,t){var r=[];return No(n,function(n,e,u){t(n,e,u)&&r.push(n)}),r}function Et(n,t,r,e){var u;return r(n,function(n,r,i){return t(n,r,i)?(u=e?r:n,!1):void 0}),u}function Ct(n,t,r,e){e||(e=[]);for(var u=-1,i=n.length;++u<i;){var o=n[u];v(o)&&Zr(o)&&(r||Cf(o)||ku(o))?t?Ct(o,t,r,e):lt(e,o):r||(e[e.length]=o)}return e}function Ut(n,t){return Lo(n,t,ni)}function $t(n,t){return Lo(n,t,Df)}function St(n,t){return Bo(n,t,Df)}function Wt(n,t){for(var r=-1,e=t.length,u=-1,i=[];++r<e;){var o=t[r];Su(n[o])&&(i[++u]=o)}return i}function Ft(n,t,r){if(null!=n){r!==b&&r in se(n)&&(t=[r]);for(var e=0,u=t.length;null!=n&&u>e;)n=n[t[e++]];return e&&e==u?n:b}}function Nt(n,t,r,e,u,i){return n===t?!0:null==n||null==t||!Wu(n)&&!v(t)?n!==n&&t!==t:Tt(n,t,Nt,r,e,u,i)}function Tt(n,t,r,e,u,i,o){var f=Cf(n),a=Cf(t),c=M,l=M;f||(c=ro.call(n),c==q?c=X:c!=X&&(f=Mu(n))),a||(l=ro.call(t),l==q?l=X:l!=X&&(a=Mu(t)));var s=c==X,p=l==X,h=c==l;if(h&&!f&&!s)return Br(n,t,c);if(!u){var v=s&&no.call(n,"__wrapped__"),_=p&&no.call(t,"__wrapped__");if(v||_)return r(v?n.value():n,_?t.value():t,e,u,i,o)}if(!h)return!1;i||(i=[]),o||(o=[]);for(var g=i.length;g--;)if(i[g]==n)return o[g]==t;i.push(n),o.push(t);var y=(f?Lr:zr)(n,t,r,e,u,i,o);return i.pop(),o.pop(),y}function Lt(n,t,r){var e=t.length,u=e,i=!r;if(null==n)return!u;for(n=se(n);e--;){var o=t[e];if(i&&o[2]?o[1]!==n[o[0]]:!(o[0]in n))return!1}for(;++e<u;){o=t[e];var f=o[0],a=n[f],c=o[1];if(i&&o[2]){if(a===b&&!(f in n))return!1}else{var l=r?r(a,c,f):b;if(!(l===b?Nt(c,a,r,!0):l))return!1}}return!0}function Bt(n,t){var r=-1,e=Zr(n)?zi(n.length):[];return No(n,function(n,u,i){e[++r]=t(n,u,i)}),e}function zt(n){var t=Pr(n);if(1==t.length&&t[0][2]){var r=t[0][0],e=t[0][1];return function(n){return null==n?!1:n[r]===e&&(e!==b||r in se(n))}}return function(n){return Lt(n,t)}}function Dt(n,t){var r=Cf(n),e=ne(n)&&ee(t),u=n+"";return n=pe(n),function(i){if(null==i)return!1;var o=u;if(i=se(i),(r||!e)&&!(o in i)){if(i=1==n.length?i:Ft(i,Jt(n,0,-1)),null==i)return!1;o=Ie(n),i=se(i)}return i[o]===t?t!==b||o in i:Nt(t,i[o],b,!0)}}function qt(n,t,r,e,u){if(!Wu(n))return n;var i=Zr(t)&&(Cf(t)||Mu(t)),o=i?b:Df(t);return ut(o||t,function(f,a){if(o&&(a=f,f=t[a]),v(f))e||(e=[]),u||(u=[]),Mt(n,t,a,qt,r,e,u);else{var c=n[a],l=r?r(c,f,a,n,t):b,s=l===b;s&&(l=f),l===b&&(!i||a in n)||!s&&(l===l?l===c:c!==c)||(n[a]=l)}}),n}function Mt(n,t,r,e,u,i,o){for(var f=i.length,a=t[r];f--;)if(i[f]==a)return void(n[r]=o[f]);var c=n[r],l=u?u(c,a,r,n,t):b,s=l===b;s&&(l=a,Zr(a)&&(Cf(a)||Mu(a))?l=Cf(c)?c:Zr(c)?et(c):[]:zu(a)||ku(a)?l=ku(c)?Gu(c):zu(c)?c:{}:s=!1),i.push(a),o.push(l),s?n[r]=e(l,a,u,i,o):(l===l?l!==c:c===c)&&(n[r]=l)}function Pt(n){return function(t){return null==t?b:t[n]}}function Kt(n){var t=n+"";return n=pe(n),function(r){return Ft(r,n,t)}}function Vt(n,t){for(var r=n?t.length:0;r--;){var e=t[r];if(e!=u&&Hr(e)){var u=e;po.call(n,e,1)}}return n}function Yt(n,t){return n+yo(Io()*(t-n+1))}function Gt(n,t,r,e,u){return u(n,function(n,u,i){r=e?(e=!1,n):t(r,n,u,i)}),r}function Jt(n,t,r){var e=-1,u=n.length;t=null==t?0:+t||0,0>t&&(t=-t>u?0:u+t),r=r===b||r>u?u:+r||0,0>r&&(r+=u),u=t>r?0:r-t>>>0,t>>>=0;for(var i=zi(u);++e<u;)i[e]=n[e+t];return i}function Xt(n,t){var r;return No(n,function(n,e,u){return r=t(n,e,u),!r}),!!r}function Zt(n,t){var r=n.length;for(n.sort(t);r--;)n[r]=n[r].value;return n}function Ht(n,t,r){var e=Dr(),u=-1;t=ct(t,function(n){return e(n)});var i=Bt(n,function(n){var r=ct(t,function(t){return t(n)});return{criteria:r,index:++u,value:n}});return Zt(i,function(n,t){return a(n,t,r)})}function Qt(n,t){var r=0;return No(n,function(n,e,u){r+=+t(n,e,u)||0}),r}function nr(n,t){var e=-1,u=Mr(),i=n.length,o=u==r,f=o&&i>=T,a=f?_r():null,c=[];a?(u=Hn,o=!1):(f=!1,a=t?[]:c);n:for(;++e<i;){var l=n[e],s=t?t(l,e,n):l;if(o&&l===l){for(var p=a.length;p--;)if(a[p]===s)continue n;t&&a.push(s),c.push(l)}else u(a,s,0)<0&&((t||f)&&a.push(s),c.push(l))}return c}function tr(n,t){for(var r=-1,e=t.length,u=zi(e);++r<e;)u[r]=n[t[r]];return u}function rr(n,t,r,e){for(var u=n.length,i=e?u:-1;(e?i--:++i<u)&&t(n[i],i,n););return r?Jt(n,e?0:i,e?i+1:u):Jt(n,e?i+1:0,e?u:i)}function er(n,t){var r=n;r instanceof qn&&(r=r.value());for(var e=-1,u=t.length;++e<u;){var i=t[e];r=i.func.apply(i.thisArg,lt([r],i.args))}return r}function ur(n,t,r){var e=0,u=n?n.length:e;if("number"==typeof t&&t===t&&Uo>=u){for(;u>e;){var i=e+u>>>1,o=n[i];(r?t>=o:t>o)&&null!==o?e=i+1:u=i}return u}return ir(n,t,Ri,r)}function ir(n,t,r,e){t=r(t);for(var u=0,i=n?n.length:0,o=t!==t,f=null===t,a=t===b;i>u;){var c=yo((u+i)/2),l=r(n[c]),s=l!==b,p=l===l;if(o)var h=p||e;else h=f?p&&s&&(e||null!=l):a?p&&(e||s):null==l?!1:e?t>=l:t>l;h?u=c+1:i=c}return Ao(i,Co)}function or(n,t,r){if("function"!=typeof n)return Ri;if(t===b)return n;switch(r){case 1:return function(r){return n.call(t,r)};case 3:return function(r,e,u){return n.call(t,r,e,u)};case 4:return function(r,e,u,i){return n.call(t,r,e,u,i)};case 5:return function(r,e,u,i,o){return n.call(t,r,e,u,i,o)}}return function(){return n.apply(t,arguments)}}function fr(n){var t=new io(n.byteLength),r=new ho(t);return r.set(new ho(n)),t}function ar(n,t,r){for(var e=r.length,u=-1,i=bo(n.length-e,0),o=-1,f=t.length,a=zi(f+i);++o<f;)a[o]=t[o];for(;++u<e;)a[r[u]]=n[u];for(;i--;)a[o++]=n[u++];return a}function cr(n,t,r){for(var e=-1,u=r.length,i=-1,o=bo(n.length-u,0),f=-1,a=t.length,c=zi(o+a);++i<o;)c[i]=n[i];for(var l=i;++f<a;)c[l+f]=t[f];for(;++e<u;)c[l+r[e]]=n[i++];return c}function lr(n,t){return function(r,e,u){var i=t?t():{};if(e=Dr(e,u,3),Cf(r))for(var o=-1,f=r.length;++o<f;){var a=r[o];n(i,a,e(a,o,r),r)}else No(r,function(t,r,u){n(i,t,e(t,r,u),u)});return i}}function sr(n){return yu(function(t,r){var e=-1,u=null==t?0:r.length,i=u>2?r[u-2]:b,o=u>2?r[2]:b,f=u>1?r[u-1]:b;for("function"==typeof i?(i=or(i,f,5),u-=2):(i="function"==typeof f?f:b,u-=i?1:0),o&&Qr(r[0],r[1],o)&&(i=3>u?b:i,u=1);++e<u;){var a=r[e];a&&n(t,a,i)}return t})}function pr(n,t){return function(r,e){var u=r?qo(r):0;if(!re(u))return n(r,e);for(var i=t?u:-1,o=se(r);(t?i--:++i<u)&&e(o[i],i,o)!==!1;);return r}}function hr(n){return function(t,r,e){for(var u=se(t),i=e(t),o=i.length,f=n?o:-1;n?f--:++f<o;){var a=i[f];if(r(u[a],a,u)===!1)break}return t}}function vr(n,t){function r(){var u=this&&this!==nt&&this instanceof r?e:n;return u.apply(t,arguments)}var e=yr(n);return r}function _r(n){return go&&lo?new Zn(n):null}function gr(n){return function(t){for(var r=-1,e=ji(li(t)),u=e.length,i="";++r<u;)i=n(i,e[r],r);return i}}function yr(n){return function(){var t=arguments;switch(t.length){case 0:return new n;case 1:return new n(t[0]);case 2:return new n(t[0],t[1]);case 3:return new n(t[0],t[1],t[2]);case 4:return new n(t[0],t[1],t[2],t[3]);case 5:return new n(t[0],t[1],t[2],t[3],t[4]);case 6:return new n(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new n(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=Fo(n.prototype),e=n.apply(r,t);return Wu(e)?e:r}}function dr(n){function t(r,e,u){u&&Qr(r,e,u)&&(e=b);var i=Tr(r,n,b,b,b,b,b,e);return i.placeholder=t.placeholder,i}return t}function mr(n,t){return yu(function(r){var e=r[0];return null==e?e:(r.push(t),n.apply(b,r))})}function wr(n,t){return function(r,e,u){if(u&&Qr(r,e,u)&&(e=b),e=Dr(e,u,3),1==e.length){r=Cf(r)?r:le(r);var i=ft(r,e,n,t);if(!r.length||i!==t)return i}return It(r,e,n,t)}}function xr(n,r){return function(e,u,i){if(u=Dr(u,i,3),Cf(e)){var o=t(e,u,r);return o>-1?e[o]:b}return Et(e,u,n)}}function br(n){return function(r,e,u){return r&&r.length?(e=Dr(e,u,3),t(r,e,n)):-1}}function Ar(n){return function(t,r,e){return r=Dr(r,e,3),Et(t,r,n,!0)}}function jr(n){return function(){for(var t,r=arguments.length,e=n?r:-1,u=0,i=zi(r);n?e--:++e<r;){var o=i[u++]=arguments[e];if("function"!=typeof o)throw new Ji(z);!t&&nn.prototype.thru&&"wrapper"==qr(o)&&(t=new nn([],!0))}for(e=t?-1:r;++e<r;){o=i[e];var f=qr(o),a="wrapper"==f?Do(o):b;t=a&&te(a[0])&&a[1]==(U|R|E|$)&&!a[4].length&&1==a[9]?t[qr(a[0])].apply(t,a[3]):1==o.length&&te(o)?t[f]():t.thru(o)}return function(){var n=arguments,e=n[0];if(t&&1==n.length&&Cf(e)&&e.length>=T)return t.plant(e).value();for(var u=0,o=r?i[u].apply(this,n):e;++u<r;)o=i[u].call(this,o);return o}}}function kr(n,t){return function(r,e,u){return"function"==typeof e&&u===b&&Cf(r)?n(r,e):t(r,or(e,u,3))}}function Ir(n){return function(t,r,e){return("function"!=typeof r||e!==b)&&(r=or(r,e,3)),n(t,r,ni)}}function Rr(n){return function(t,r,e){return("function"!=typeof r||e!==b)&&(r=or(r,e,3)),n(t,r)}}function Or(n){return function(t,r,e){var u={};return r=Dr(r,e,3),$t(t,function(t,e,i){var o=r(t,e,i);e=n?o:e,t=n?t:o,u[e]=t}),u}}function Er(n){return function(t,r,e){return t=u(t),(n?t:"")+Sr(t,r,e)+(n?"":t)}}function Cr(n){var t=yu(function(r,e){var u=g(e,t.placeholder);return Tr(r,n,b,e,u)});return t}function Ur(n,t){return function(r,e,u,i){var o=arguments.length<3;return"function"==typeof e&&i===b&&Cf(r)?n(r,e,u,o):Gt(r,Dr(e,i,4),u,o,t)}}function $r(n,t,r,e,u,i,o,f,a,c){function l(){for(var m=arguments.length,w=m,x=zi(m);w--;)x[w]=arguments[w];if(e&&(x=ar(x,e,u)),i&&(x=cr(x,i,o)),v||y){var A=l.placeholder,I=g(x,A);if(m-=I.length,c>m){var R=f?et(f):b,O=bo(c-m,0),U=v?I:b,$=v?b:I,S=v?x:b,W=v?b:x;t|=v?E:C,t&=~(v?C:E),_||(t&=~(j|k));var F=[n,t,r,S,U,W,$,R,a,O],N=$r.apply(b,F);return te(n)&&Mo(N,F),N.placeholder=A,N}}var T=p?r:this,L=h?T[n]:n;return f&&(x=ae(x,f)),s&&a<x.length&&(x.length=a),this&&this!==nt&&this instanceof l&&(L=d||yr(n)),L.apply(T,x)}var s=t&U,p=t&j,h=t&k,v=t&R,_=t&I,y=t&O,d=h?b:yr(n);return l}function Sr(n,t,r){var e=n.length;if(t=+t,e>=t||!wo(t))return"";var u=t-e;return r=null==r?" ":r+"",gi(r,_o(u/r.length)).slice(0,u)}function Wr(n,t,r,e){function u(){for(var t=-1,f=arguments.length,a=-1,c=e.length,l=zi(c+f);++a<c;)l[a]=e[a];for(;f--;)l[a++]=arguments[++t];var s=this&&this!==nt&&this instanceof u?o:n;return s.apply(i?r:this,l)}var i=t&j,o=yr(n);return u}function Fr(n){var t=Pi[n];return function(n,r){return r=r===b?0:+r||0,r?(r=ao(10,r),t(n*r)/r):t(n)}}function Nr(n){return function(t,r,e,u){var i=Dr(e);return null==e&&i===xt?ur(t,r,n):ir(t,r,i(e,u,1),n)}}function Tr(n,t,r,e,u,i,o,f){var a=t&k;if(!a&&"function"!=typeof n)throw new Ji(z);var c=e?e.length:0;if(c||(t&=~(E|C),e=u=b),c-=u?u.length:0,t&C){var l=e,s=u;e=u=b}var p=a?b:Do(n),h=[n,t,r,e,u,l,s,i,o,f];if(p&&(ue(h,p),t=h[1],f=h[9]),h[9]=null==f?a?0:n.length:bo(f-c,0)||0,t==j)var v=vr(h[0],h[2]);else v=t!=E&&t!=(j|E)||h[4].length?$r.apply(b,h):Wr.apply(b,h);var _=p?zo:Mo;return _(v,h)}function Lr(n,t,r,e,u,i,o){var f=-1,a=n.length,c=t.length;if(a!=c&&!(u&&c>a))return!1;for(;++f<a;){var l=n[f],s=t[f],p=e?e(u?s:l,u?l:s,f):b;if(p!==b){if(p)continue;return!1}if(u){if(!ht(t,function(n){return l===n||r(l,n,e,u,i,o)}))return!1}else if(l!==s&&!r(l,s,e,u,i,o))return!1}return!0}function Br(n,t,r){switch(r){case P:case K:return+n==+t;case V:return n.name==t.name&&n.message==t.message;case J:return n!=+n?t!=+t:n==+t;case Z:case Q:return n==t+""}return!1}function zr(n,t,r,e,u,i,o){var f=Df(n),a=f.length,c=Df(t),l=c.length;if(a!=l&&!u)return!1;for(var s=a;s--;){var p=f[s];if(!(u?p in t:no.call(t,p)))return!1}for(var h=u;++s<a;){p=f[s];var v=n[p],_=t[p],g=e?e(u?_:v,u?v:_,p):b;if(!(g===b?r(v,_,e,u,i,o):g))return!1;h||(h="constructor"==p)}if(!h){var y=n.constructor,d=t.constructor;if(y!=d&&"constructor"in n&&"constructor"in t&&!("function"==typeof y&&y instanceof y&&"function"==typeof d&&d instanceof d))return!1}return!0}function Dr(n,t,r){var e=G.callback||ki;return e=e===ki?xt:e,r?e(n,t,r):e}function qr(n){for(var t=n.name,r=Wo[t],e=r?r.length:0;e--;){var u=r[e],i=u.func;if(null==i||i==n)return u.name}return t}function Mr(n,t,e){var u=G.indexOf||je;return u=u===je?r:u,n?u(n,t,e):u}function Pr(n){for(var t=ti(n),r=t.length;r--;)t[r][2]=ee(t[r][1]);return t}function Kr(n,t){var r=null==n?b:n[t];return Tu(r)?r:b}function Vr(n,t,r){for(var e=-1,u=r.length;++e<u;){var i=r[e],o=i.size;switch(i.type){case"drop":n+=o;break;case"dropRight":t-=o;break;case"take":t=Ao(t,n+o);break;case"takeRight":n=bo(n,t-o)}}return{start:n,end:t}}function Yr(n){var t=n.length,r=new n.constructor(t);return t&&"string"==typeof n[0]&&no.call(n,"index")&&(r.index=n.index,r.input=n.input),r}function Gr(n){var t=n.constructor;return"function"==typeof t&&t instanceof t||(t=Vi),new t}function Jr(n,t,r){var e=n.constructor;switch(t){case tn:return fr(n);case P:case K:return new e(+n);case rn:case en:case un:case on:case fn:case an:case cn:case ln:case sn:var u=n.buffer;return new e(r?fr(u):u,n.byteOffset,n.length);case J:case Q:return new e(n);case Z:var i=new e(n.source,Cn.exec(n));i.lastIndex=n.lastIndex}return i}function Xr(n,t,r){null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),t=Ie(t));var e=null==n?n:n[t];return null==e?b:e.apply(n,r)}function Zr(n){return null!=n&&re(qo(n))}function Hr(n,t){return n="number"==typeof n||Sn.test(n)?+n:-1,t=null==t?$o:t,n>-1&&n%1==0&&t>n}function Qr(n,t,r){if(!Wu(r))return!1;var e=typeof t;if("number"==e?Zr(r)&&Hr(t,r.length):"string"==e&&t in r){var u=r[t];return n===n?n===u:u!==u}return!1}function ne(n,t){var r=typeof n;if("string"==r&&An.test(n)||"number"==r)return!0;if(Cf(n))return!1;var e=!bn.test(n);return e||null!=t&&n in se(t)}function te(n){var t=qr(n);if(!(t in qn.prototype))return!1;var r=G[t];if(n===r)return!0;var e=Do(r);return!!e&&n===e[0]}function re(n){return"number"==typeof n&&n>-1&&n%1==0&&$o>=n}function ee(n){return n===n&&!Wu(n)}function ue(n,t){var r=n[1],e=t[1],u=r|e,i=U>u,o=e==U&&r==R||e==U&&r==$&&n[7].length<=t[8]||e==(U|$)&&r==R;if(!i&&!o)return n;e&j&&(n[2]=t[2],u|=r&j?0:I);var f=t[3];if(f){var a=n[3];n[3]=a?ar(a,f,t[4]):et(f),n[4]=a?g(n[3],D):et(t[4])}return f=t[5],f&&(a=n[5],n[5]=a?cr(a,f,t[6]):et(f),n[6]=a?g(n[5],D):et(t[6])),f=t[7],f&&(n[7]=et(f)),e&U&&(n[8]=null==n[8]?t[8]:Ao(n[8],t[8])),null==n[9]&&(n[9]=t[9]),n[0]=t[0],n[1]=u,n}function ie(n,t){return n===b?t:Uf(n,t,ie)}function oe(n,t){n=se(n);for(var r=-1,e=t.length,u={};++r<e;){var i=t[r];i in n&&(u[i]=n[i])}return u}function fe(n,t){var r={};return Ut(n,function(n,e,u){t(n,e,u)&&(r[e]=n)}),r}function ae(n,t){for(var r=n.length,e=Ao(t.length,r),u=et(n);e--;){var i=t[e];n[e]=Hr(i,r)?u[i]:b}return n}function ce(n){for(var t=ni(n),r=t.length,e=r&&n.length,u=!!e&&re(e)&&(Cf(n)||ku(n)),i=-1,o=[];++i<r;){var f=t[i];(u&&Hr(f,e)||no.call(n,f))&&o.push(f)}return o}function le(n){return null==n?[]:Zr(n)?Wu(n)?n:Vi(n):ii(n)}function se(n){return Wu(n)?n:Vi(n)}function pe(n){if(Cf(n))return n;var t=[];return u(n).replace(jn,function(n,r,e,u){t.push(e?u.replace(On,"$1"):r||n)}),t}function he(n){return n instanceof qn?n.clone():new nn(n.__wrapped__,n.__chain__,et(n.__actions__))}function ve(n,t,r){t=(r?Qr(n,t,r):null==t)?1:bo(yo(t)||1,1);for(var e=0,u=n?n.length:0,i=-1,o=zi(_o(u/t));u>e;)o[++i]=Jt(n,e,e+=t);return o}function _e(n){for(var t=-1,r=n?n.length:0,e=-1,u=[];++t<r;){var i=n[t];i&&(u[++e]=i)}return u}function ge(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0>t?0:t)):[]}function ye(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0,0>t?0:t)):[]}function de(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0,!0):[]}function me(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!0):[]}function we(n,t,r,e){var u=n?n.length:0;return u?(r&&"number"!=typeof r&&Qr(n,t,r)&&(r=0,e=u),Rt(n,t,r,e)):[]}function xe(n){return n?n[0]:b}function be(n,t,r){var e=n?n.length:0;return r&&Qr(n,t,r)&&(t=!1),e?Ct(n,t):[]}function Ae(n){var t=n?n.length:0;return t?Ct(n,!0):[]}function je(n,t,e){var u=n?n.length:0;if(!u)return-1;if("number"==typeof e)e=0>e?bo(u+e,0):e;else if(e){var i=ur(n,t);return u>i&&(t===t?t===n[i]:n[i]!==n[i])?i:-1}return r(n,t,e||0)}function ke(n){return ye(n,1)}function Ie(n){var t=n?n.length:0;return t?n[t-1]:b}function Re(n,t,r){var e=n?n.length:0;if(!e)return-1;var u=e;if("number"==typeof r)u=(0>r?bo(e+r,0):Ao(r||0,e-1))+1;else if(r){u=ur(n,t,!0)-1;var i=n[u];return(t===t?t===i:i!==i)?u:-1}if(t!==t)return h(n,u,!0);for(;u--;)if(n[u]===t)return u;return-1}function Oe(){var n=arguments,t=n[0];if(!t||!t.length)return t;for(var r=0,e=Mr(),u=n.length;++r<u;)for(var i=0,o=n[r];(i=e(t,o,i))>-1;)po.call(t,i,1);return t}function Ee(n,t,r){var e=[];if(!n||!n.length)return e;var u=-1,i=[],o=n.length;for(t=Dr(t,r,3);++u<o;){var f=n[u];t(f,u,n)&&(e.push(f),i.push(u))}return Vt(n,i),e}function Ce(n){return ge(n,1)}function Ue(n,t,r){var e=n?n.length:0;return e?(r&&"number"!=typeof r&&Qr(n,t,r)&&(t=0,r=e),Jt(n,t,r)):[]}function $e(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),Jt(n,0,0>t?0:t)):[]}function Se(n,t,r){var e=n?n.length:0;return e?((r?Qr(n,t,r):null==t)&&(t=1),t=e-(+t||0),Jt(n,0>t?0:t)):[]}function We(n,t,r){return n&&n.length?rr(n,Dr(t,r,3),!1,!0):[]}function Fe(n,t,r){return n&&n.length?rr(n,Dr(t,r,3)):[]}function Ne(n,t,e,u){var i=n?n.length:0;if(!i)return[];null!=t&&"boolean"!=typeof t&&(u=e,e=Qr(n,t,u)?b:t,t=!1);var o=Dr();return(null!=e||o!==xt)&&(e=o(e,u,3)),t&&Mr()==r?y(n,e):nr(n,e)}function Te(n){if(!n||!n.length)return[];var t=-1,r=0;n=at(n,function(n){return Zr(n)?(r=bo(n.length,r),!0):void 0});for(var e=zi(r);++t<r;)e[t]=ct(n,Pt(t));return e}function Le(n,t,r){var e=n?n.length:0;if(!e)return[];var u=Te(n);return null==t?u:(t=or(t,r,4),ct(u,function(n){return st(n,t,b,!0)}))}function Be(){for(var n=-1,t=arguments.length;++n<t;){var r=arguments[n];if(Zr(r))var e=e?lt(jt(e,r),jt(r,e)):r}return e?nr(e):[]}function ze(n,t){var r=-1,e=n?n.length:0,u={};for(!e||t||Cf(n[0])||(t=[]);++r<e;){var i=n[r];t?u[i]=t[r]:i&&(u[i[0]]=i[1])}return u}function De(n){var t=G(n);return t.__chain__=!0,t}function qe(n,t,r){return t.call(r,n),n}function Me(n,t,r){return t.call(r,n)}function Pe(){return De(this)}function Ke(){return new nn(this.value(),this.__chain__)}function Ve(n){for(var t,r=this;r instanceof H;){var e=he(r);t?u.__wrapped__=e:t=e;var u=e;r=r.__wrapped__}return u.__wrapped__=n,t}function Ye(){var n=this.__wrapped__,t=function(n){return r&&r.__dir__<0?n:n.reverse()};if(n instanceof qn){var r=n;return this.__actions__.length&&(r=new qn(this)),r=r.reverse(),r.__actions__.push({func:Me,args:[t],thisArg:b}),new nn(r,this.__chain__)}return this.thru(t)}function Ge(){return this.value()+""}function Je(){return er(this.__wrapped__,this.__actions__)}function Xe(n,t,r){var e=Cf(n)?ot:kt;return r&&Qr(n,t,r)&&(t=b),("function"!=typeof t||r!==b)&&(t=Dr(t,r,3)),e(n,t)}function Ze(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,t)}function He(n,t){return uf(n,zt(t))}function Qe(n,t,r,e){var u=n?qo(n):0;return re(u)||(n=ii(n),u=n.length),r="number"!=typeof r||e&&Qr(t,r,e)?0:0>r?bo(u+r,0):r||0,"string"==typeof n||!Cf(n)&&qu(n)?u>=r&&n.indexOf(t,r)>-1:!!u&&Mr(n,t,r)>-1}function nu(n,t,r){var e=Cf(n)?ct:Bt;return t=Dr(t,r,3),e(n,t)}function tu(n,t){return nu(n,Si(t))}function ru(n,t,r){var e=Cf(n)?at:Ot;return t=Dr(t,r,3),e(n,function(n,r,e){return!t(n,r,e)})}function eu(n,t,r){if(r?Qr(n,t,r):null==t){n=le(n);var e=n.length;return e>0?n[Yt(0,e-1)]:b}var u=-1,i=Yu(n),e=i.length,o=e-1;for(t=Ao(0>t?0:+t||0,e);++u<t;){var f=Yt(u,o),a=i[f];i[f]=i[u],i[u]=a}return i.length=t,i}function uu(n){return eu(n,Oo)}function iu(n){var t=n?qo(n):0;return re(t)?t:Df(n).length}function ou(n,t,r){var e=Cf(n)?ht:Xt;return r&&Qr(n,t,r)&&(t=b),("function"!=typeof t||r!==b)&&(t=Dr(t,r,3)),e(n,t)}function fu(n,t,r){if(null==n)return[];r&&Qr(n,t,r)&&(t=b);var e=-1;t=Dr(t,r,3);var u=Bt(n,function(n,r,u){return{criteria:t(n,r,u),index:++e,value:n}});return Zt(u,f)}function au(n,t,r,e){return null==n?[]:(e&&Qr(t,r,e)&&(r=b),Cf(t)||(t=null==t?[]:[t]),Cf(r)||(r=null==r?[]:[r]),Ht(n,t,r))}function cu(n,t){return Ze(n,zt(t))}function lu(n,t){if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var r=n;n=t,t=r}return n=wo(n=+n)?n:0,function(){return--n<1?t.apply(this,arguments):void 0}}function su(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=n&&null==t?n.length:bo(+t||0,0),Tr(n,U,b,b,b,b,t)}function pu(n,t){var r;if("function"!=typeof t){if("function"!=typeof n)throw new Ji(z);var e=n;n=t,t=e}return function(){return--n>0&&(r=t.apply(this,arguments)),1>=n&&(t=b),r}}function hu(n,t,r){function e(){h&&oo(h),c&&oo(c),_=0,c=h=v=b}function u(t,r){r&&oo(r),c=h=v=b,t&&(_=gf(),l=n.apply(p,a),h||c||(a=p=b))}function i(){var n=t-(gf()-s);0>=n||n>t?u(v,c):h=so(i,n)}function o(){u(y,h)}function f(){if(a=arguments,s=gf(),p=this,v=y&&(h||!d),g===!1)var r=d&&!h;else{c||d||(_=s);var e=g-(s-_),u=0>=e||e>g;u?(c&&(c=oo(c)),_=s,l=n.apply(p,a)):c||(c=so(o,e))}return u&&h?h=oo(h):h||t===g||(h=so(i,t)),r&&(u=!0,l=n.apply(p,a)),!u||h||c||(a=p=b),l}var a,c,l,s,p,h,v,_=0,g=!1,y=!0;if("function"!=typeof n)throw new Ji(z);if(t=0>t?0:+t||0,r===!0){var d=!0;y=!1}else Wu(r)&&(d=!!r.leading,g="maxWait"in r&&bo(+r.maxWait||0,t),y="trailing"in r?!!r.trailing:y);return f.cancel=e,f}function vu(n,t){if("function"!=typeof n||t&&"function"!=typeof t)throw new Ji(z);var r=function(){var e=arguments,u=t?t.apply(this,e):e[0],i=r.cache;if(i.has(u))return i.get(u);var o=n.apply(this,e);return r.cache=i.set(u,o),o};return r.cache=new vu.Cache,r}function _u(n){if("function"!=typeof n)throw new Ji(z);return function(){return!n.apply(this,arguments)}}function gu(n){return pu(2,n)}function yu(n,t){if("function"!=typeof n)throw new Ji(z);return t=bo(t===b?n.length-1:+t||0,0),function(){for(var r=arguments,e=-1,u=bo(r.length-t,0),i=zi(u);++e<u;)i[e]=r[t+e];switch(t){case 0:return n.call(this,i);case 1:return n.call(this,r[0],i);case 2:return n.call(this,r[0],r[1],i)}var o=zi(t+1);for(e=-1;++e<t;)o[e]=r[e];return o[t]=i,n.apply(this,o)}}function du(n){if("function"!=typeof n)throw new Ji(z);return function(t){return n.apply(this,t)}}function mu(n,t,r){var e=!0,u=!0;if("function"!=typeof n)throw new Ji(z);return r===!1?e=!1:Wu(r)&&(e="leading"in r?!!r.leading:e,u="trailing"in r?!!r.trailing:u),hu(n,t,{leading:e,maxWait:+t,trailing:u})}function wu(n,t){return t=null==t?Ri:t,Tr(t,E,b,[n],[])}function xu(n,t,r,e){return t&&"boolean"!=typeof t&&Qr(n,t,r)?t=!1:"function"==typeof t&&(e=r,r=t,t=!1),"function"==typeof r?bt(n,t,or(r,e,1)):bt(n,t)}function bu(n,t,r){return"function"==typeof t?bt(n,!0,or(t,r,1)):bt(n,!0)}function Au(n,t){return n>t}function ju(n,t){return n>=t}function ku(n){return v(n)&&Zr(n)&&no.call(n,"callee")&&!co.call(n,"callee")}function Iu(n){return n===!0||n===!1||v(n)&&ro.call(n)==P}function Ru(n){return v(n)&&ro.call(n)==K}function Ou(n){return!!n&&1===n.nodeType&&v(n)&&!zu(n)}function Eu(n){return null==n?!0:Zr(n)&&(Cf(n)||qu(n)||ku(n)||v(n)&&Su(n.splice))?!n.length:!Df(n).length}function Cu(n,t,r,e){r="function"==typeof r?or(r,e,3):b;var u=r?r(n,t):b;return u===b?Nt(n,t,r):!!u}function Uu(n){return v(n)&&"string"==typeof n.message&&ro.call(n)==V}function $u(n){return"number"==typeof n&&wo(n)}function Su(n){return Wu(n)&&ro.call(n)==Y}function Wu(n){var t=typeof n;return!!n&&("object"==t||"function"==t)}function Fu(n,t,r,e){return r="function"==typeof r?or(r,e,3):b,Lt(n,Pr(t),r)}function Nu(n){return Bu(n)&&n!=+n}function Tu(n){return null==n?!1:Su(n)?uo.test(Qi.call(n)):v(n)&&$n.test(n)}function Lu(n){return null===n}function Bu(n){return"number"==typeof n||v(n)&&ro.call(n)==J}function zu(n){var t;if(!v(n)||ro.call(n)!=X||ku(n)||!no.call(n,"constructor")&&(t=n.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return Ut(n,function(n,t){r=t}),r===b||no.call(n,r)}function Du(n){return Wu(n)&&ro.call(n)==Z}function qu(n){return"string"==typeof n||v(n)&&ro.call(n)==Q}function Mu(n){return v(n)&&re(n.length)&&!!zn[ro.call(n)]}function Pu(n){return n===b}function Ku(n,t){return t>n}function Vu(n,t){return t>=n}function Yu(n){var t=n?qo(n):0;return re(t)?t?et(n):[]:ii(n)}function Gu(n){return wt(n,ni(n))}function Ju(n,t,r){var e=Fo(n);return r&&Qr(n,t,r)&&(t=b),t?dt(e,t):e}function Xu(n){return Wt(n,ni(n))}function Zu(n,t,r){var e=null==n?b:Ft(n,pe(t),t+"");return e===b?r:e}function Hu(n,t){if(null==n)return!1;var r=no.call(n,t);if(!r&&!ne(t)){if(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),null==n)return!1;t=Ie(t),r=no.call(n,t)}return r||re(n.length)&&Hr(t,n.length)&&(Cf(n)||ku(n))}function Qu(n,t,r){r&&Qr(n,t,r)&&(t=b);for(var e=-1,u=Df(n),i=u.length,o={};++e<i;){var f=u[e],a=n[f];t?no.call(o,a)?o[a].push(f):o[a]=[f]:o[a]=f}return o}function ni(n){if(null==n)return[];Wu(n)||(n=Vi(n));var t=n.length;t=t&&re(t)&&(Cf(n)||ku(n))&&t||0;for(var r=n.constructor,e=-1,u="function"==typeof r&&r.prototype===n,i=zi(t),o=t>0;++e<t;)i[e]=e+"";for(var f in n)o&&Hr(f,t)||"constructor"==f&&(u||!no.call(n,f))||i.push(f);return i}function ti(n){n=se(n);for(var t=-1,r=Df(n),e=r.length,u=zi(e);++t<e;){var i=r[t];u[t]=[i,n[i]]}return u}function ri(n,t,r){var e=null==n?b:n[t];return e===b&&(null==n||ne(t,n)||(t=pe(t),n=1==t.length?n:Ft(n,Jt(t,0,-1)),e=null==n?b:n[Ie(t)]),e=e===b?r:e),Su(e)?e.call(n):e}function ei(n,t,r){if(null==n)return n;var e=t+"";t=null!=n[e]||ne(t,n)?[e]:pe(t);for(var u=-1,i=t.length,o=i-1,f=n;null!=f&&++u<i;){var a=t[u];Wu(f)&&(u==o?f[a]=r:null==f[a]&&(f[a]=Hr(t[u+1])?[]:{})),f=f[a]}return n}function ui(n,t,r,e){var u=Cf(n)||Mu(n);if(t=Dr(t,e,4),null==r)if(u||Wu(n)){var i=n.constructor;r=u?Cf(n)?new i:[]:Fo(Su(i)?i.prototype:b)}else r={};return(u?ut:$t)(n,function(n,e,u){return t(r,n,e,u)}),r}function ii(n){return tr(n,Df(n))}function oi(n){return tr(n,ni(n))}function fi(n,t,r){return t=+t||0,r===b?(r=t,t=0):r=+r||0,n>=Ao(t,r)&&n<bo(t,r)}function ai(n,t,r){r&&Qr(n,t,r)&&(t=r=b);var e=null==n,u=null==t;if(null==r&&(u&&"boolean"==typeof n?(r=n,n=1):"boolean"==typeof t&&(r=t,u=!0)),e&&u&&(t=1,u=!1),n=+n||0,u?(t=n,n=0):t=+t||0,r||n%1||t%1){var i=Io();return Ao(n+i*(t-n+fo("1e-"+((i+"").length-1))),t)}return Yt(n,t)}function ci(n){return n=u(n),n&&n.charAt(0).toUpperCase()+n.slice(1)}function li(n){
return n=u(n),n&&n.replace(Wn,c).replace(Rn,"")}function si(n,t,r){n=u(n),t+="";var e=n.length;return r=r===b?e:Ao(0>r?0:+r||0,e),r-=t.length,r>=0&&n.indexOf(t,r)==r}function pi(n){return n=u(n),n&&dn.test(n)?n.replace(gn,l):n}function hi(n){return n=u(n),n&&In.test(n)?n.replace(kn,s):n||"(?:)"}function vi(n,t,r){n=u(n),t=+t;var e=n.length;if(e>=t||!wo(t))return n;var i=(t-e)/2,o=yo(i),f=_o(i);return r=Sr("",f,r),r.slice(0,o)+n+r}function _i(n,t,r){return(r?Qr(n,t,r):null==t)?t=0:t&&(t=+t),n=mi(n),ko(n,t||(Un.test(n)?16:10))}function gi(n,t){var r="";if(n=u(n),t=+t,1>t||!n||!wo(t))return r;do t%2&&(r+=n),t=yo(t/2),n+=n;while(t);return r}function yi(n,t,r){return n=u(n),r=null==r?0:Ao(0>r?0:+r||0,n.length),n.lastIndexOf(t,r)==r}function di(n,t,r){var e=G.templateSettings;r&&Qr(n,t,r)&&(t=r=b),n=u(n),t=yt(dt({},r||t),e,gt);var i,o,f=yt(dt({},t.imports),e.imports,gt),a=Df(f),c=tr(f,a),l=0,s=t.interpolate||Fn,h="__p += '",v=Yi((t.escape||Fn).source+"|"+s.source+"|"+(s===xn?En:Fn).source+"|"+(t.evaluate||Fn).source+"|$","g"),_="//# sourceURL="+("sourceURL"in t?t.sourceURL:"lodash.templateSources["+ ++Bn+"]")+"\n";n.replace(v,function(t,r,e,u,f,a){return e||(e=u),h+=n.slice(l,a).replace(Nn,p),r&&(i=!0,h+="' +\n__e("+r+") +\n'"),f&&(o=!0,h+="';\n"+f+";\n__p += '"),e&&(h+="' +\n((__t = ("+e+")) == null ? '' : __t) +\n'"),l=a+t.length,t}),h+="';\n";var g=t.variable;g||(h="with (obj) {\n"+h+"\n}\n"),h=(o?h.replace(pn,""):h).replace(hn,"$1").replace(vn,"$1;"),h="function("+(g||"obj")+") {\n"+(g?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(i?", __e = _.escape":"")+(o?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var y=Hf(function(){return Mi(a,_+"return "+h).apply(b,c)});if(y.source=h,Uu(y))throw y;return y}function mi(n,t,r){var e=n;return(n=u(n))?(r?Qr(e,t,r):null==t)?n.slice(d(n),m(n)+1):(t+="",n.slice(i(n,t),o(n,t)+1)):n}function wi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(d(n)):n.slice(i(n,t+"")):n}function xi(n,t,r){var e=n;return n=u(n),n?(r?Qr(e,t,r):null==t)?n.slice(0,m(n)+1):n.slice(0,o(n,t+"")+1):n}function bi(n,t,r){r&&Qr(n,t,r)&&(t=b);var e=S,i=W;if(null!=t)if(Wu(t)){var o="separator"in t?t.separator:o;e="length"in t?+t.length||0:e,i="omission"in t?u(t.omission):i}else e=+t||0;if(n=u(n),e>=n.length)return n;var f=e-i.length;if(1>f)return i;var a=n.slice(0,f);if(null==o)return a+i;if(Du(o)){if(n.slice(f).search(o)){var c,l,s=n.slice(0,f);for(o.global||(o=Yi(o.source,(Cn.exec(o)||"")+"g")),o.lastIndex=0;c=o.exec(s);)l=c.index;a=a.slice(0,null==l?f:l)}}else if(n.indexOf(o,f)!=f){var p=a.lastIndexOf(o);p>-1&&(a=a.slice(0,p))}return a+i}function Ai(n){return n=u(n),n&&yn.test(n)?n.replace(_n,w):n}function ji(n,t,r){return r&&Qr(n,t,r)&&(t=b),n=u(n),n.match(t||Tn)||[]}function ki(n,t,r){return r&&Qr(n,t,r)&&(t=b),v(n)?Oi(n):xt(n,t)}function Ii(n){return function(){return n}}function Ri(n){return n}function Oi(n){return zt(bt(n,!0))}function Ei(n,t){return Dt(n,bt(t,!0))}function Ci(n,t,r){if(null==r){var e=Wu(t),u=e?Df(t):b,i=u&&u.length?Wt(t,u):b;(i?i.length:e)||(i=!1,r=t,t=n,n=this)}i||(i=Wt(t,Df(t)));var o=!0,f=-1,a=Su(n),c=i.length;r===!1?o=!1:Wu(r)&&"chain"in r&&(o=r.chain);for(;++f<c;){var l=i[f],s=t[l];n[l]=s,a&&(n.prototype[l]=function(t){return function(){var r=this.__chain__;if(o||r){var e=n(this.__wrapped__),u=e.__actions__=et(this.__actions__);return u.push({func:t,args:arguments,thisArg:n}),e.__chain__=r,e}return t.apply(n,lt([this.value()],arguments))}}(s))}return n}function Ui(){return nt._=eo,this}function $i(){}function Si(n){return ne(n)?Pt(n):Kt(n)}function Wi(n){return function(t){return Ft(n,pe(t),t+"")}}function Fi(n,t,r){r&&Qr(n,t,r)&&(t=r=b),n=+n||0,r=null==r?1:+r||0,null==t?(t=n,n=0):t=+t||0;for(var e=-1,u=bo(_o((t-n)/(r||1)),0),i=zi(u);++e<u;)i[e]=n,n+=r;return i}function Ni(n,t,r){if(n=yo(n),1>n||!wo(n))return[];var e=-1,u=zi(Ao(n,Eo));for(t=or(t,r,1);++e<n;)Eo>e?u[e]=t(e):t(e);return u}function Ti(n){var t=++to;return u(n)+t}function Li(n,t){return(+n||0)+(+t||0)}function Bi(n,t,r){return r&&Qr(n,t,r)&&(t=b),t=Dr(t,r,3),1==t.length?vt(Cf(n)?n:le(n),t):Qt(n,t)}_=_?tt.defaults(nt.Object(),_,tt.pick(nt,Ln)):nt;var zi=_.Array,Di=_.Date,qi=_.Error,Mi=_.Function,Pi=_.Math,Ki=_.Number,Vi=_.Object,Yi=_.RegExp,Gi=_.String,Ji=_.TypeError,Xi=zi.prototype,Zi=Vi.prototype,Hi=Gi.prototype,Qi=Mi.prototype.toString,no=Zi.hasOwnProperty,to=0,ro=Zi.toString,eo=nt._,uo=Yi("^"+Qi.call(no).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),io=_.ArrayBuffer,oo=_.clearTimeout,fo=_.parseFloat,ao=Pi.pow,co=Zi.propertyIsEnumerable,lo=Kr(_,"Set"),so=_.setTimeout,po=Xi.splice,ho=_.Uint8Array,vo=Kr(_,"WeakMap"),_o=Pi.ceil,go=Kr(Vi,"create"),yo=Pi.floor,mo=Kr(zi,"isArray"),wo=_.isFinite,xo=Kr(Vi,"keys"),bo=Pi.max,Ao=Pi.min,jo=Kr(Di,"now"),ko=_.parseInt,Io=Pi.random,Ro=Ki.NEGATIVE_INFINITY,Oo=Ki.POSITIVE_INFINITY,Eo=4294967295,Co=Eo-1,Uo=Eo>>>1,$o=9007199254740991,So=vo&&new vo,Wo={};G.support={};G.templateSettings={escape:mn,evaluate:wn,interpolate:xn,variable:"",imports:{_:G}};var Fo=function(){function n(){}return function(t){if(Wu(t)){n.prototype=t;var r=new n;n.prototype=b}return r||{}}}(),No=pr($t),To=pr(St,!0),Lo=hr(),Bo=hr(!0),zo=So?function(n,t){return So.set(n,t),n}:Ri,Do=So?function(n){return So.get(n)}:$i,qo=Pt("length"),Mo=function(){var n=0,t=0;return function(r,e){var u=gf(),i=N-(u-t);if(t=u,i>0){if(++n>=F)return r}else n=0;return zo(r,e)}}(),Po=yu(function(n,t){return v(n)&&Zr(n)?jt(n,Ct(t,!1,!0)):[]}),Ko=br(),Vo=br(!0),Yo=yu(function(n){for(var t=n.length,e=t,u=zi(s),i=Mr(),o=i==r,f=[];e--;){var a=n[e]=Zr(a=n[e])?a:[];u[e]=o&&a.length>=120?_r(e&&a):null}var c=n[0],l=-1,s=c?c.length:0,p=u[0];n:for(;++l<s;)if(a=c[l],(p?Hn(p,a):i(f,a,0))<0){for(var e=t;--e;){var h=u[e];if((h?Hn(h,a):i(n[e],a,0))<0)continue n}p&&p.push(a),f.push(a)}return f}),Go=yu(function(t,r){r=Ct(r);var e=mt(t,r);return Vt(t,r.sort(n)),e}),Jo=Nr(),Xo=Nr(!0),Zo=yu(function(n){return nr(Ct(n,!1,!0))}),Ho=yu(function(n,t){return Zr(n)?jt(n,t):[]}),Qo=yu(Te),nf=yu(function(n){var t=n.length,r=t>2?n[t-2]:b,e=t>1?n[t-1]:b;return t>2&&"function"==typeof r?t-=2:(r=t>1&&"function"==typeof e?(--t,e):b,e=b),n.length=t,Le(n,r,e)}),tf=yu(function(n){return n=Ct(n),this.thru(function(t){return rt(Cf(t)?t:[se(t)],n)})}),rf=yu(function(n,t){return mt(n,Ct(t))}),ef=lr(function(n,t,r){no.call(n,r)?++n[r]:n[r]=1}),uf=xr(No),of=xr(To,!0),ff=kr(ut,No),af=kr(it,To),cf=lr(function(n,t,r){no.call(n,r)?n[r].push(t):n[r]=[t]}),lf=lr(function(n,t,r){n[r]=t}),sf=yu(function(n,t,r){var e=-1,u="function"==typeof t,i=ne(t),o=Zr(n)?zi(n.length):[];return No(n,function(n){var f=u?t:i&&null!=n?n[t]:b;o[++e]=f?f.apply(n,r):Xr(n,t,r)}),o}),pf=lr(function(n,t,r){n[r?0:1].push(t)},function(){return[[],[]]}),hf=Ur(st,No),vf=Ur(pt,To),_f=yu(function(n,t){if(null==n)return[];var r=t[2];return r&&Qr(t[0],t[1],r)&&(t.length=1),Ht(n,Ct(t),[])}),gf=jo||function(){return(new Di).getTime()},yf=yu(function(n,t,r){var e=j;if(r.length){var u=g(r,yf.placeholder);e|=E}return Tr(n,e,t,r,u)}),df=yu(function(n,t){t=t.length?Ct(t):Xu(n);for(var r=-1,e=t.length;++r<e;){var u=t[r];n[u]=Tr(n[u],j,n)}return n}),mf=yu(function(n,t,r){var e=j|k;if(r.length){var u=g(r,mf.placeholder);e|=E}return Tr(t,e,n,r,u)}),wf=dr(R),xf=dr(O),bf=yu(function(n,t){return At(n,1,t)}),Af=yu(function(n,t,r){return At(n,t,r)}),jf=jr(),kf=jr(!0),If=yu(function(n,t){if(t=Ct(t),"function"!=typeof n||!ot(t,e))throw new Ji(z);var r=t.length;return yu(function(e){for(var u=Ao(e.length,r);u--;)e[u]=t[u](e[u]);return n.apply(this,e)})}),Rf=Cr(E),Of=Cr(C),Ef=yu(function(n,t){return Tr(n,$,b,b,b,Ct(t))}),Cf=mo||function(n){return v(n)&&re(n.length)&&ro.call(n)==M},Uf=sr(qt),$f=sr(function(n,t,r){return r?yt(n,t,r):dt(n,t)}),Sf=mr($f,_t),Wf=mr(Uf,ie),Ff=Ar($t),Nf=Ar(St),Tf=Ir(Lo),Lf=Ir(Bo),Bf=Rr($t),zf=Rr(St),Df=xo?function(n){var t=null==n?b:n.constructor;return"function"==typeof t&&t.prototype===n||"function"!=typeof n&&Zr(n)?ce(n):Wu(n)?xo(n):[]}:ce,qf=Or(!0),Mf=Or(),Pf=yu(function(n,t){if(null==n)return{};if("function"!=typeof t[0]){var t=ct(Ct(t),Gi);return oe(n,jt(ni(n),t))}var r=or(t[0],t[1],3);return fe(n,function(n,t,e){return!r(n,t,e)})}),Kf=yu(function(n,t){return null==n?{}:"function"==typeof t[0]?fe(n,or(t[0],t[1],3)):oe(n,Ct(t))}),Vf=gr(function(n,t,r){return t=t.toLowerCase(),n+(r?t.charAt(0).toUpperCase()+t.slice(1):t)}),Yf=gr(function(n,t,r){return n+(r?"-":"")+t.toLowerCase()}),Gf=Er(),Jf=Er(!0),Xf=gr(function(n,t,r){return n+(r?"_":"")+t.toLowerCase()}),Zf=gr(function(n,t,r){return n+(r?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))}),Hf=yu(function(n,t){try{return n.apply(b,t)}catch(r){return Uu(r)?r:new qi(r)}}),Qf=yu(function(n,t){return function(r){return Xr(r,n,t)}}),na=yu(function(n,t){return function(r){return Xr(n,r,t)}}),ta=Fr("ceil"),ra=Fr("floor"),ea=wr(Au,Ro),ua=wr(Ku,Oo),ia=Fr("round");return G.prototype=H.prototype,nn.prototype=Fo(H.prototype),nn.prototype.constructor=nn,qn.prototype=Fo(H.prototype),qn.prototype.constructor=qn,Vn.prototype["delete"]=Yn,Vn.prototype.get=Gn,Vn.prototype.has=Jn,Vn.prototype.set=Xn,Zn.prototype.push=Qn,vu.Cache=Vn,G.after=lu,G.ary=su,G.assign=$f,G.at=rf,G.before=pu,G.bind=yf,G.bindAll=df,G.bindKey=mf,G.callback=ki,G.chain=De,G.chunk=ve,G.compact=_e,G.constant=Ii,G.countBy=ef,G.create=Ju,G.curry=wf,G.curryRight=xf,G.debounce=hu,G.defaults=Sf,G.defaultsDeep=Wf,G.defer=bf,G.delay=Af,G.difference=Po,G.drop=ge,G.dropRight=ye,G.dropRightWhile=de,G.dropWhile=me,G.fill=we,G.filter=Ze,G.flatten=be,G.flattenDeep=Ae,G.flow=jf,G.flowRight=kf,G.forEach=ff,G.forEachRight=af,G.forIn=Tf,G.forInRight=Lf,G.forOwn=Bf,G.forOwnRight=zf,G.functions=Xu,G.groupBy=cf,G.indexBy=lf,G.initial=ke,G.intersection=Yo,G.invert=Qu,G.invoke=sf,G.keys=Df,G.keysIn=ni,G.map=nu,G.mapKeys=qf,G.mapValues=Mf,G.matches=Oi,G.matchesProperty=Ei,G.memoize=vu,G.merge=Uf,G.method=Qf,G.methodOf=na,G.mixin=Ci,G.modArgs=If,G.negate=_u,G.omit=Pf,G.once=gu,G.pairs=ti,G.partial=Rf,G.partialRight=Of,G.partition=pf,G.pick=Kf,G.pluck=tu,G.property=Si,G.propertyOf=Wi,G.pull=Oe,G.pullAt=Go,G.range=Fi,G.rearg=Ef,G.reject=ru,G.remove=Ee,G.rest=Ce,G.restParam=yu,G.set=ei,G.shuffle=uu,G.slice=Ue,G.sortBy=fu,G.sortByAll=_f,G.sortByOrder=au,G.spread=du,G.take=$e,G.takeRight=Se,G.takeRightWhile=We,G.takeWhile=Fe,G.tap=qe,G.throttle=mu,G.thru=Me,G.times=Ni,G.toArray=Yu,G.toPlainObject=Gu,G.transform=ui,G.union=Zo,G.uniq=Ne,G.unzip=Te,G.unzipWith=Le,G.values=ii,G.valuesIn=oi,G.where=cu,G.without=Ho,G.wrap=wu,G.xor=Be,G.zip=Qo,G.zipObject=ze,G.zipWith=nf,G.backflow=kf,G.collect=nu,G.compose=kf,G.each=ff,G.eachRight=af,G.extend=$f,G.iteratee=ki,G.methods=Xu,G.object=ze,G.select=Ze,G.tail=Ce,G.unique=Ne,Ci(G,G),G.add=Li,G.attempt=Hf,G.camelCase=Vf,G.capitalize=ci,G.ceil=ta,G.clone=xu,G.cloneDeep=bu,G.deburr=li,G.endsWith=si,G.escape=pi,G.escapeRegExp=hi,G.every=Xe,G.find=uf,G.findIndex=Ko,G.findKey=Ff,G.findLast=of,G.findLastIndex=Vo,G.findLastKey=Nf,G.findWhere=He,G.first=xe,G.floor=ra,G.get=Zu,G.gt=Au,G.gte=ju,G.has=Hu,G.identity=Ri,G.includes=Qe,G.indexOf=je,G.inRange=fi,G.isArguments=ku,G.isArray=Cf,G.isBoolean=Iu,G.isDate=Ru,G.isElement=Ou,G.isEmpty=Eu,G.isEqual=Cu,G.isError=Uu,G.isFinite=$u,G.isFunction=Su,G.isMatch=Fu,G.isNaN=Nu,G.isNative=Tu,G.isNull=Lu,G.isNumber=Bu,G.isObject=Wu,G.isPlainObject=zu,G.isRegExp=Du,G.isString=qu,G.isTypedArray=Mu,G.isUndefined=Pu,G.kebabCase=Yf,G.last=Ie,G.lastIndexOf=Re,G.lt=Ku,G.lte=Vu,G.max=ea,G.min=ua,G.noConflict=Ui,G.noop=$i,G.now=gf,G.pad=vi,G.padLeft=Gf,G.padRight=Jf,G.parseInt=_i,G.random=ai,G.reduce=hf,G.reduceRight=vf,G.repeat=gi,G.result=ri,G.round=ia,G.runInContext=x,G.size=iu,G.snakeCase=Xf,G.some=ou,G.sortedIndex=Jo,G.sortedLastIndex=Xo,G.startCase=Zf,G.startsWith=yi,G.sum=Bi,G.template=di,G.trim=mi,G.trimLeft=wi,G.trimRight=xi,G.trunc=bi,G.unescape=Ai,G.uniqueId=Ti,G.words=ji,G.all=Xe,G.any=ou,G.contains=Qe,G.eq=Cu,G.detect=uf,G.foldl=hf,G.foldr=vf,G.head=xe,G.include=Qe,G.inject=hf,Ci(G,function(){var n={};return $t(G,function(t,r){G.prototype[r]||(n[r]=t)}),n}(),!1),G.sample=eu,G.prototype.sample=function(n){return this.__chain__||null!=n?this.thru(function(t){return eu(t,n)}):eu(this.value())},G.VERSION=A,ut(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){G[n].placeholder=G}),ut(["drop","take"],function(n,t){qn.prototype[n]=function(r){var e=this.__filtered__;if(e&&!t)return new qn(this);r=null==r?1:bo(yo(r)||0,0);var u=this.clone();return e?u.__takeCount__=Ao(u.__takeCount__,r):u.__views__.push({size:r,type:n+(u.__dir__<0?"Right":"")}),u},qn.prototype[n+"Right"]=function(t){return this.reverse()[n](t).reverse()}}),ut(["filter","map","takeWhile"],function(n,t){var r=t+1,e=r!=B;qn.prototype[n]=function(n,t){var u=this.clone();return u.__iteratees__.push({iteratee:Dr(n,t,1),type:r}),u.__filtered__=u.__filtered__||e,u}}),ut(["first","last"],function(n,t){var r="take"+(t?"Right":"");qn.prototype[n]=function(){return this[r](1).value()[0]}}),ut(["initial","rest"],function(n,t){var r="drop"+(t?"":"Right");qn.prototype[n]=function(){return this.__filtered__?new qn(this):this[r](1)}}),ut(["pluck","where"],function(n,t){var r=t?"filter":"map",e=t?zt:Si;qn.prototype[n]=function(n){return this[r](e(n))}}),qn.prototype.compact=function(){return this.filter(Ri)},qn.prototype.reject=function(n,t){return n=Dr(n,t,1),this.filter(function(t){return!n(t)})},qn.prototype.slice=function(n,t){n=null==n?0:+n||0;var r=this;return r.__filtered__&&(n>0||0>t)?new qn(r):(0>n?r=r.takeRight(-n):n&&(r=r.drop(n)),t!==b&&(t=+t||0,r=0>t?r.dropRight(-t):r.take(t-n)),r)},qn.prototype.takeRightWhile=function(n,t){return this.reverse().takeWhile(n,t).reverse()},qn.prototype.toArray=function(){return this.take(Oo)},$t(qn.prototype,function(n,t){var r=/^(?:filter|map|reject)|While$/.test(t),e=/^(?:first|last)$/.test(t),u=G[e?"take"+("last"==t?"Right":""):t];u&&(G.prototype[t]=function(){var t=e?[1]:arguments,i=this.__chain__,o=this.__wrapped__,f=!!this.__actions__.length,a=o instanceof qn,c=t[0],l=a||Cf(o);l&&r&&"function"==typeof c&&1!=c.length&&(a=l=!1);var s=function(n){return e&&i?u(n,1)[0]:u.apply(b,lt([n],t))},p={func:Me,args:[s],thisArg:b},h=a&&!f;if(e&&!i)return h?(o=o.clone(),o.__actions__.push(p),n.call(o)):u.call(b,this.value())[0];if(!e&&l){o=h?o:new qn(this);var v=n.apply(o,t);return v.__actions__.push(p),new nn(v,i)}return this.thru(s)})}),ut(["join","pop","push","replace","shift","sort","splice","split","unshift"],function(n){var t=(/^(?:replace|split)$/.test(n)?Hi:Xi)[n],r=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",e=/^(?:join|pop|replace|shift)$/.test(n);G.prototype[n]=function(){var n=arguments;return e&&!this.__chain__?t.apply(this.value(),n):this[r](function(r){return t.apply(r,n)})}}),$t(qn.prototype,function(n,t){var r=G[t];if(r){var e=r.name,u=Wo[e]||(Wo[e]=[]);u.push({name:t,func:r})}}),Wo[$r(b,k).name]=[{name:"wrapper",func:b}],qn.prototype.clone=Mn,qn.prototype.reverse=Pn,qn.prototype.value=Kn,G.prototype.chain=Pe,G.prototype.commit=Ke,G.prototype.concat=tf,G.prototype.plant=Ve,G.prototype.reverse=Ye,G.prototype.toString=Ge,G.prototype.run=G.prototype.toJSON=G.prototype.valueOf=G.prototype.value=Je,G.prototype.collect=G.prototype.map,G.prototype.head=G.prototype.first,G.prototype.select=G.prototype.filter,G.prototype.tail=G.prototype.rest,G}var b,A="3.10.1",j=1,k=2,I=4,R=8,O=16,E=32,C=64,U=128,$=256,S=30,W="...",F=150,N=16,T=200,L=1,B=2,z="Expected a function",D="__lodash_placeholder__",q="[object Arguments]",M="[object Array]",P="[object Boolean]",K="[object Date]",V="[object Error]",Y="[object Function]",G="[object Map]",J="[object Number]",X="[object Object]",Z="[object RegExp]",H="[object Set]",Q="[object String]",nn="[object WeakMap]",tn="[object ArrayBuffer]",rn="[object Float32Array]",en="[object Float64Array]",un="[object Int8Array]",on="[object Int16Array]",fn="[object Int32Array]",an="[object Uint8Array]",cn="[object Uint8ClampedArray]",ln="[object Uint16Array]",sn="[object Uint32Array]",pn=/\b__p \+= '';/g,hn=/\b(__p \+=) '' \+/g,vn=/(__e\(.*?\)|\b__t\)) \+\n'';/g,_n=/&(?:amp|lt|gt|quot|#39|#96);/g,gn=/[&<>"'`]/g,yn=RegExp(_n.source),dn=RegExp(gn.source),mn=/<%-([\s\S]+?)%>/g,wn=/<%([\s\S]+?)%>/g,xn=/<%=([\s\S]+?)%>/g,bn=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,An=/^\w*$/,jn=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,kn=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,In=RegExp(kn.source),Rn=/[\u0300-\u036f\ufe20-\ufe23]/g,On=/\\(\\)?/g,En=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Cn=/\w*$/,Un=/^0[xX]/,$n=/^\[object .+?Constructor\]$/,Sn=/^\d+$/,Wn=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,Fn=/($^)/,Nn=/['\n\r\u2028\u2029\\]/g,Tn=function(){var n="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(n+"+(?="+n+t+")|"+n+"?"+t+"|"+n+"+|[0-9]+","g")}(),Ln=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],Bn=-1,zn={};zn[rn]=zn[en]=zn[un]=zn[on]=zn[fn]=zn[an]=zn[cn]=zn[ln]=zn[sn]=!0,zn[q]=zn[M]=zn[tn]=zn[P]=zn[K]=zn[V]=zn[Y]=zn[G]=zn[J]=zn[X]=zn[Z]=zn[H]=zn[Q]=zn[nn]=!1;var Dn={};Dn[q]=Dn[M]=Dn[tn]=Dn[P]=Dn[K]=Dn[rn]=Dn[en]=Dn[un]=Dn[on]=Dn[fn]=Dn[J]=Dn[X]=Dn[Z]=Dn[Q]=Dn[an]=Dn[cn]=Dn[ln]=Dn[sn]=!0,Dn[V]=Dn[Y]=Dn[G]=Dn[H]=Dn[nn]=!1;var qn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss"},Mn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Pn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Kn={"function":!0,object:!0},Vn={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Yn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},Gn=Kn[typeof exports]&&exports&&!exports.nodeType&&exports,Jn=Kn[typeof module]&&module&&!module.nodeType&&module,Xn=Gn&&Jn&&"object"==typeof global&&global&&global.Object&&global,Zn=Kn[typeof self]&&self&&self.Object&&self,Hn=Kn[typeof window]&&window&&window.Object&&window,Qn=Jn&&Jn.exports===Gn&&Gn,nt=Xn||Hn!==(this&&this.window)&&Hn||Zn||this,tt=x();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(nt._=tt,define(function(){return tt})):Gn&&Jn?Qn?(Jn.exports=tt)._=tt:Gn._=tt:nt._=tt}).call(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})

},{}],6:[function(require,module,exports){
(function(){var t,e,n,r,i,o,s,l,u=[].slice,a={}.hasOwnProperty,c=function(t,e){return function(){return t.apply(e,arguments)}},p=function(t,e){function n(){this.constructor=t}for(var r in e)a.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};o=function(){var t,e,n,r,i,o,s;if(t=arguments[0],n=2<=arguments.length?u.call(arguments,1):[])for(o=0,s=n.length;s>o;o++)if(r=n[o])for(e in r)a.call(r,e)&&(i=r[e],t[e]=i);return t},l=function(t){return t.constructor.prototype===Object.prototype},s=function(t){return t.constructor.prototype===Array.prototype},i=function(t){var e,n,r;if(!t)return t;if("function"==typeof t.clone)return t.clone();if(l(t)||s(t)){n=new t.constructor;for(e in t)a.call(t,e)&&(r=t[e],"function"!=typeof r&&(n[e]=i(r)));return n}return JSON.parse(JSON.stringify(t))},e=function(t,e,n){var r,i,o;if("function"!=typeof e&&"string"!=typeof e)throw new Error("type must be a class constructor or string denoting 'typeof' result");if("function"!=typeof n)throw new Error("handler must be a function");for(i=0,o=t.length;o>i;i++)if(r=t[i],r.type===e)return void(r.handler=n);return t.push({type:e,handler:n})},t=function(){var t,e,n,r,i,o,s,l;for(r=arguments[0],t=2<=arguments.length?u.call(arguments,1):[],i=0,s=t.length;s>i;i++)for(e=t[i],o=0,l=e.length;l>o;o++)if(n=e[o],n.type===typeof r||"string"!=typeof n.type&&r instanceof n.type)return n.handler},r=function(){var n,r,s,l,h,f,d,_;return n={},n.DefaultQueryBuilderOptions={autoQuoteTableNames:!1,autoQuoteFieldNames:!1,autoQuoteAliasNames:!0,nameQuoteCharacter:"`",tableAliasQuoteCharacter:"`",fieldAliasQuoteCharacter:'"',valueHandlers:[],parameterCharacter:"?",numberedParameters:!1,numberedParametersPrefix:"$",numberedParametersStartAt:1,replaceSingleQuotes:!1,singleQuoteReplacement:"''",separator:" "},n.globalValueHandlers=[],n.registerValueHandler=function(t,r){return e(n.globalValueHandlers,t,r)},n.Cloneable=function(){function t(){}return t.prototype.clone=function(){var t;return t=new this.constructor,o(t,i(o({},this)))},t}(),n.BaseBuilder=function(r){function i(t){this._sanitizeNestableQuery=c(this._sanitizeNestableQuery,this);var e;e=JSON.parse(JSON.stringify(n.DefaultQueryBuilderOptions)),this.options=o({},e,t)}return p(i,r),i.prototype.registerValueHandler=function(t,n){return e(this.options.valueHandlers,t,n),this},i.prototype._getObjectClassName=function(t){var e;return t&&t.constructor&&t.constructor.toString&&(e=t.constructor.toString().match(/function\s*(\w+)/),e&&2===e.length)?e[1]:void 0},i.prototype._sanitizeCondition=function(t){if(!(t instanceof n.Expression)&&"string"!=typeof t)throw new Error("condition must be a string or Expression instance");return t},i.prototype._sanitizeName=function(t,e){if("string"!=typeof t)throw new Error(""+e+" must be a string");return t},i.prototype._sanitizeField=function(t,e){var r;return null==e&&(e={}),t instanceof n.QueryBuilder?t="("+t+")":(t=this._sanitizeName(t,"field name"),this.options.autoQuoteFieldNames&&(r=this.options.nameQuoteCharacter,t=e.ignorePeriodsForFieldNameQuotes?""+r+t+r:t.split(".").map(function(t){return"*"===t?t:""+r+t+r}).join("."))),t},i.prototype._sanitizeNestableQuery=function(t){if(t instanceof n.QueryBuilder&&t.isNestable())return t;throw new Error("must be a nestable query, e.g. SELECT")},i.prototype._sanitizeTable=function(t,e){var n,r;if(null==e&&(e=!1),e)if("string"==typeof t)r=t;else try{r=this._sanitizeNestableQuery(t)}catch(i){throw n=i,new Error("table name must be a string or a nestable query instance")}else r=this._sanitizeName(t,"table name");return this.options.autoQuoteTableNames?""+this.options.nameQuoteCharacter+r+this.options.nameQuoteCharacter:r},i.prototype._sanitizeTableAlias=function(t){var e;return e=this._sanitizeName(t,"table alias"),this.options.autoQuoteAliasNames?""+this.options.tableAliasQuoteCharacter+e+this.options.tableAliasQuoteCharacter:e},i.prototype._sanitizeFieldAlias=function(t){var e;return e=this._sanitizeName(t,"field alias"),this.options.autoQuoteAliasNames?""+this.options.fieldAliasQuoteCharacter+e+this.options.fieldAliasQuoteCharacter:e},i.prototype._sanitizeLimitOffset=function(t){if(t=parseInt(t),0>t||isNaN(t))throw new Error("limit/offset must be >= 0");return t},i.prototype._sanitizeValue=function(e){var r,i;if(r=typeof e,null===e);else if("string"===r||"number"===r||"boolean"===r);else if(e instanceof n.QueryBuilder&&e.isNestable());else if(e instanceof n.FunctionBlock);else if(i=void 0!==t(e,this.options.valueHandlers,n.globalValueHandlers),!i)throw new Error("field value must be a string, number, boolean, null or one of the registered custom value types");return e},i.prototype._escapeValue=function(t){return!0!==this.options.replaceSingleQuotes?t:t.replace(/\'/g,this.options.singleQuoteReplacement)},i.prototype._formatCustomValue=function(e,r){var i;return null==r&&(r=!1),i=t(e,this.options.valueHandlers,n.globalValueHandlers),i&&(e=i(e,r)),e},i.prototype._formatValueAsParam=function(t){var e,r=this;return Array.isArray(t)?t.map(function(t){return r._formatValueAsParam(t)}):t instanceof n.QueryBuilder&&t.isNestable()?(t.updateOptions({nestedBuilder:!0}),e=t.toParam()):t instanceof n.Expression?e=t.toParam():this._formatCustomValue(t,!0)},i.prototype._formatValue=function(t,e){var r,i,o=this;return null==e&&(e={}),r=this._formatCustomValue(t),r!==t?"("+r+")":(Array.isArray(t)?(t=t.map(function(t){return o._formatValue(t)}),t="("+t.join(", ")+")"):null===t?t="NULL":"boolean"==typeof t?t=t?"TRUE":"FALSE":t instanceof n.QueryBuilder?t="("+t+")":t instanceof n.Expression?t="("+t+")":"number"!=typeof t&&(e.dontQuote?t=""+t:(i=this._escapeValue(t),t="'"+i+"'")),t)},i}(n.Cloneable),n.Expression=function(t){function e(t){var r,i=this;e.__super__.constructor.call(this),r=JSON.parse(JSON.stringify(n.DefaultQueryBuilderOptions)),this.options=o({},r,t),this.tree={parent:null,nodes:[]},this.current=this.tree,this._begin=function(t){var e;return e={type:t,parent:i.current,nodes:[]},i.current.nodes.push(e),i.current=i.current.nodes[i.current.nodes.length-1],i}}return p(e,t),e.prototype.tree=null,e.prototype.current=null,e.prototype.and_begin=function(){return this._begin("AND")},e.prototype.or_begin=function(){return this._begin("OR")},e.prototype.end=function(){if(!this.current.parent)throw new Error("begin() needs to be called");return this.current=this.current.parent,this},e.prototype.and=function(t,e){if(!t||"string"!=typeof t)throw new Error("expr must be a string");return this.current.nodes.push({type:"AND",expr:t,para:e}),this},e.prototype.or=function(t,e){if(!t||"string"!=typeof t)throw new Error("expr must be a string");return this.current.nodes.push({type:"OR",expr:t,para:e}),this},e.prototype.toString=function(){if(null!==this.current.parent)throw new Error("end() needs to be called");return this._toString(this.tree)},e.prototype.toParam=function(){if(null!==this.current.parent)throw new Error("end() needs to be called");return this._toString(this.tree,!0)},e.prototype._toString=function(t,e){var n,r,i,o,s,l,u,a,c,p=this;for(null==e&&(e=!1),l="",s=[],c=t.nodes,u=0,a=c.length;a>u;u++)n=c[u],null!=n.expr?(o=n.expr,void 0!==n.para&&(e?(r=this._formatValueAsParam(n.para),null!=(null!=r?r.text:void 0)?(s=s.concat(r.values),o=o.replace(this.options.parameterCharacter,"("+r.text+")")):s=s.concat(r),Array.isArray(n.para)&&(i=Array.apply(null,new Array(n.para.length)).map(function(){return p.options.parameterCharacter}),o=o.replace(this.options.parameterCharacter,"("+i.join(", ")+")"))):o=o.replace(this.options.parameterCharacter,this._formatValue(n.para)))):(o=this._toString(n,e),e&&(s=s.concat(o.values),o=o.text),""!==o&&(o="("+o+")")),""!==o&&(""!==l&&(l+=" "+n.type+" "),l+=o);return e?{text:l,values:s}:l},e.prototype.clone=function(){var t,e;return t=new this.constructor,(e=function(n){var r,o,s,l,u;for(l=n.nodes,u=[],o=0,s=l.length;s>o;o++)r=l[o],null!=r.expr?u.push(t.current.nodes.push(i(r))):(t._begin(r.type),e(r),!this.current===r?u.push(t.end()):u.push(void 0));return u})(this.tree),t},e}(n.BaseBuilder),n.Block=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.exposedMethods=function(){var t,e,r;e={};for(t in this)r=this[t],"function"!=typeof r||"_"===t.charAt(0)||n.Block.prototype[t]||(e[t]=r);return e},e.prototype.buildStr=function(t){return""},e.prototype.buildParam=function(t){return{text:this.buildStr(t),values:[]}},e}(n.BaseBuilder),n.StringBlock=function(t){function e(t,n){e.__super__.constructor.call(this,t),this.str=n}return p(e,t),e.prototype.buildStr=function(t){return this.str},e}(n.Block),n.AbstractValueBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this._str="",this._values=[]}return p(e,t),e.prototype._setValue=function(){var t,e;return t=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],this._str=t,this._values=e,this},e.prototype.buildStr=function(t){var e,n,r,i,o,s,l;for(i=this._str,n="",o=[].concat(this._values),r=s=0,l=i.length;l>=0?l>s:s>l;r=l>=0?++s:--s)e=i.charAt(r),this.options.parameterCharacter===e&&0<o.length&&(e=o.shift()),n+=e;return n},e.prototype.buildParam=function(t){return{text:this._str,values:this._values}},e}(n.Block),n.FunctionBlock=function(t){function e(){return s=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype["function"]=function(){var t,e;return t=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],this._setValue.apply(this,[t].concat(e))},e}(n.AbstractValueBlock),n.fval=function(){var t,e,r;return e=arguments[0],r=2<=arguments.length?u.call(arguments,1):[],t=new n.FunctionBlock,t["function"].apply(t,[e].concat(r))},n.registerValueHandler(n.FunctionBlock,function(t,e){return null==e&&(e=!1),e?t.buildParam():t.buildStr()}),n.AbstractTableBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.tables=[]}return p(e,t),e.prototype._table=function(t,e){return null==e&&(e=null),e&&(e=this._sanitizeTableAlias(e)),t=this._sanitizeTable(t,this.options.allowNested||!1),this.options.singleTable&&(this.tables=[]),this.tables.push({table:t,alias:e})},e.prototype._hasTable=function(){return 0<this.tables.length},e.prototype.buildStr=function(t){var e,n,r,i,o;if(!this._hasTable())return"";for(n="",o=this.tables,r=0,i=o.length;i>r;r++)e=o[r],""!==n&&(n+=", "),n+="string"==typeof e.table?e.table:"("+e.table+")",e.alias&&(n+=" "+e.alias);return n},e.prototype._buildParam=function(t,e){var r,i,o,s,l,u,a,c,p,h,f,d,_,y;if(null==e&&(e=null),l={text:"",values:[]},s=[],o="",!this._hasTable())return l;for(_=this.tables,a=0,h=_.length;h>a;a++)r=_[a],"string"==typeof r.table?i={text:""+r.table,values:[]}:r.table instanceof n.QueryBuilder?(r.table.updateOptions({nestedBuilder:!0}),i=r.table.toParam()):(r.updateOptions({nestedBuilder:!0}),i=r.buildParam(t)),i.table=r,s.push(i);for(c=0,f=s.length;f>c;c++)for(i=s[c],""!==o?o+=", ":null!=e&&""!==e&&(o+=""+e+" "+o),o+="string"==typeof i.table.table?""+i.text:"("+i.text+")",null!=i.table.alias&&(o+=" "+i.table.alias),y=i.values,p=0,d=y.length;d>p;p++)u=y[p],l.values.push(this._formatCustomValue(u));return l.text+=o,l},e.prototype.buildParam=function(t){return this._buildParam(t)},e}(n.Block),n.UpdateTableBlock=function(t){function e(){return l=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.table=function(t,e){return null==e&&(e=null),this._table(t,e)},e}(n.AbstractTableBlock),n.FromTableBlock=function(t){function e(){return h=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.from=function(t,e){return null==e&&(e=null),this._table(t,e)},e.prototype.buildStr=function(t){var n;return n=e.__super__.buildStr.call(this,t),n.length?"FROM "+n:""},e.prototype.buildParam=function(t){return this._buildParam(t,"FROM")},e}(n.AbstractTableBlock),n.IntoTableBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.table=null}return p(e,t),e.prototype.into=function(t){return this.table=this._sanitizeTable(t,!1)},e.prototype.buildStr=function(t){if(!this.table)throw new Error("into() needs to be called");return"INTO "+this.table},e}(n.Block),n.GetFieldBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this._fieldAliases={},this._fields=[]}return p(e,t),e.prototype.fields=function(t,e){var n,r,i,o,s,l;if(null==e&&(e={}),Array.isArray(t)){for(s=[],i=0,o=t.length;o>i;i++)r=t[i],s.push(this.field(r,null,e));return s}l=[];for(r in t)n=t[r],l.push(this.field(r,n,e));return l},e.prototype.field=function(t,e,n){return null==e&&(e=null),null==n&&(n={}),t=this._sanitizeField(t,n),e&&(e=this._sanitizeFieldAlias(e)),this._fieldAliases[t]!==e?(this._fieldAliases[t]=e,this._fields.push({name:t,alias:e})):void 0},e.prototype.buildStr=function(t){var e,r,i,o,s;if(!t.getBlock(n.FromTableBlock)._hasTable())return"";for(r="",s=this._fields,i=0,o=s.length;o>i;i++)e=s[i],""!==r&&(r+=", "),r+=e.name,e.alias&&(r+=" AS "+e.alias);return""===r?"*":r},e}(n.Block),n.AbstractSetFieldBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.fieldOptions=[],this.fields=[],this.values=[]}return p(e,t),e.prototype._set=function(t,e,n){var r;if(null==n&&(n={}),this.values.length>1)throw new Error("Cannot call set or setFields on multiple rows of fields.");return void 0!==e&&(e=this._sanitizeValue(e)),r=this.fields.indexOf(this._sanitizeField(t,n)),-1!==r?(this.values[0][r]=e,this.fieldOptions[0][r]=n):(this.fields.push(this._sanitizeField(t,n)),r=this.fields.length-1,Array.isArray(this.values[0])?(this.values[0][r]=e,this.fieldOptions[0][r]=n):(this.values.push([e]),this.fieldOptions.push([n]))),this},e.prototype._setFields=function(t,e){var n;if(null==e&&(e={}),"object"!=typeof t)throw new Error("Expected an object but got "+typeof t);for(n in t)a.call(t,n)&&this._set(n,t[n],e);return this},e.prototype._setFieldsRows=function(t,e){var n,r,i,o,s,l,u;if(null==e&&(e={}),!Array.isArray(t))throw new Error("Expected an array of objects but got "+typeof t);for(this.fields=[],this.values=[],r=s=0,l=t.length;l>=0?l>s:s>l;r=l>=0?++s:--s){u=t[r];for(n in u)if(a.call(u,n)){if(i=this.fields.indexOf(this._sanitizeField(n,e)),r>0&&-1===i)throw new Error("All fields in subsequent rows must match the fields in the first row");-1===i&&(this.fields.push(this._sanitizeField(n,e)),i=this.fields.length-1),o=this._sanitizeValue(t[r][n]),Array.isArray(this.values[r])?(this.values[r][i]=o,this.fieldOptions[r][i]=e):(this.values[r]=[o],this.fieldOptions[r]=[e])}}return this},e.prototype.buildStr=function(){throw new Error("Not yet implemented")},e.prototype.buildParam=function(){throw new Error("Not yet implemented")},e}(n.Block),n.SetFieldBlock=function(t){function e(){return f=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.set=function(t,e,n){return this._set(t,e,n)},e.prototype.setFields=function(t,e){return this._setFields(t,e)},e.prototype.buildStr=function(t){var e,n,r,i,o,s,l;if(0>=this.fields.length)throw new Error("set() needs to be called");for(i="",r=s=0,l=this.fields.length;l>=0?l>s:s>l;r=l>=0?++s:--s)e=this.fields[r],""!==i&&(i+=", "),o=this.values[0][r],n=this.fieldOptions[0][r],i+="undefined"==typeof o?e:""+e+" = "+this._formatValue(o,n);return"SET "+i},e.prototype.buildParam=function(t){var e,n,r,i,o,s,l,u,a,c,p,h;if(0>=this.fields.length)throw new Error("set() needs to be called");for(i="",s=[],n=u=0,p=this.fields.length;p>=0?p>u:u>p;n=p>=0?++u:--u)if(e=this.fields[n],""!==i&&(i+=", "),l=this.values[0][n],"undefined"==typeof l)i+=e;else if(r=this._formatValueAsParam(l),null!=(null!=r?r.text:void 0))for(i+=""+e+" = ("+r.text+")",h=r.values,a=0,c=h.length;c>a;a++)o=h[a],s.push(o);else i+=""+e+" = "+this.options.parameterCharacter,s.push(r);return{text:"SET "+i,values:s}},e}(n.AbstractSetFieldBlock),n.InsertFieldValueBlock=function(t){function e(){return d=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.set=function(t,e,n){return null==n&&(n={}),this._set(t,e,n)},e.prototype.setFields=function(t,e){return this._setFields(t,e)},e.prototype.setFieldsRows=function(t,e){return this._setFieldsRows(t,e)},e.prototype._buildVals=function(){var t,e,n,r,i,o,s,l;for(r=[],e=i=0,s=this.values.length;s>=0?s>i:i>s;e=s>=0?++i:--i)for(n=o=0,l=this.values[e].length;l>=0?l>o:o>l;n=l>=0?++o:--o)t=this._formatValue(this.values[e][n],this.fieldOptions[e][n]),"string"==typeof r[e]?r[e]+=", "+t:r[e]=""+t;return r},e.prototype._buildValParams=function(){var t,e,n,r,i,o,s,l,u,a,c,p,h,f;for(s=[],r=[],t=l=0,p=this.values.length;p>=0?p>l:l>p;t=p>=0?++l:--l)for(e=u=0,h=this.values[t].length;h>=0?h>u:u>h;e=h>=0?++u:--u){if(n=this._formatValueAsParam(this.values[t][e]),null!=(null!=n?n.text:void 0))for(i=n.text,f=n.values,a=0,c=f.length;c>a;a++)o=f[a],r.push(o);else i=this.options.parameterCharacter,r.push(n);"string"==typeof s[t]?s[t]+=", "+i:s[t]=""+i}return{vals:s,params:r}},e.prototype.buildStr=function(t){return 0>=this.fields.length?"":"("+this.fields.join(", ")+") VALUES ("+this._buildVals().join("), (")+")"},e.prototype.buildParam=function(t){var e,n,r,i,o,s,l;if(0>=this.fields.length)return{text:"",values:[]};for(r="",s=this._buildValParams(),i=s.vals,n=s.params,e=o=0,l=this.fields.length;l>=0?l>o:o>l;e=l>=0?++o:--o)""!==r&&(r+=", "),r+=this.fields[e];return{text:"("+r+") VALUES ("+i.join("), (")+")",values:n}},e}(n.AbstractSetFieldBlock),n.InsertFieldsFromQueryBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this._fields=[],this._query=null}return p(e,t),e.prototype.fromQuery=function(t,e){var n=this;return this._fields=t.map(function(t){return n._sanitizeField(t)}),this._query=this._sanitizeNestableQuery(e)},e.prototype.buildStr=function(t){return 0>=this._fields.length?"":"("+this._fields.join(", ")+") ("+this._query.toString()+")"},e.prototype.buildParam=function(t){var e;return 0>=this._fields.length?{text:"",values:[]}:(e=this._query.toParam(),{text:"("+this._fields.join(", ")+") ("+e.text+")",values:e.values})},e}(n.Block),n.DistinctBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.useDistinct=!1}return p(e,t),e.prototype.distinct=function(){return this.useDistinct=!0},e.prototype.buildStr=function(t){return this.useDistinct?"DISTINCT":""},e}(n.Block),n.GroupByBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.groups=[]}return p(e,t),e.prototype.group=function(t){return t=this._sanitizeField(t),this.groups.push(t)},e.prototype.buildStr=function(t){var e,n,r,i,o;if(n="",0<this.groups.length){for(o=this.groups,r=0,i=o.length;i>r;r++)e=o[r],""!==n&&(n+=", "),n+=e;n="GROUP BY "+n}return n},e}(n.Block),n.OffsetBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.offsets=null}return p(e,t),e.prototype.offset=function(t){return t=this._sanitizeLimitOffset(t),this.offsets=t},e.prototype.buildStr=function(t){return this.offsets?"OFFSET "+this.offsets:""},e}(n.Block),n.AbstractConditionBlock=function(t){function e(t,n){this.conditionVerb=t,e.__super__.constructor.call(this,n),this.conditions=[]}return p(e,t),e.prototype._condition=function(){var t,e,r,i,o,s,l,a,c,p,h,f,d,_;if(e=arguments[0],p=2<=arguments.length?u.call(arguments,1):[],e=this._sanitizeCondition(e),r="",i=[],e instanceof n.Expression)c=e.toParam(),r=c.text,i=c.values;else for(o=h=0,_=e.length;_>=0?_>h:h>_;o=_>=0?++h:--h)if(t=e.charAt(o),this.options.parameterCharacter===t&&0<p.length)if(a=p.shift(),Array.isArray(a)){for(s=[],f=0,d=a.length;d>f;f++)l=a[f],s.push(this._sanitizeValue(l));i=i.concat(s),r+="("+function(){var t,e,n;for(n=[],t=0,e=s.length;e>t;t++)l=s[t],n.push(this.options.parameterCharacter);return n}.call(this).join(", ")+")"}else r+=this.options.parameterCharacter,i.push(this._sanitizeValue(a));else r+=t;return""!==r?this.conditions.push({text:r,values:i}):void 0},e.prototype.buildStr=function(t){var e,n,r,i,o,s,l,u,a,c;if(0>=this.conditions.length)return"";for(r="",a=this.conditions,s=0,u=a.length;u>s;s++)if(n=a[s],""!==r&&(r+=") AND ("),0<n.values.length)for(o=0,i=l=0,c=n.text.length;c>=0?c>l:l>c;i=c>=0?++l:--l)e=n.text.charAt(i),r+=this.options.parameterCharacter===e?this._formatValue(n.values[o++]):e;else r+=n.text;return""+this.conditionVerb+" ("+r+")"},e.prototype.buildParam=function(t){var e,n,r,i,o,s,l,u,a,c,p,h,f,d,_,y,m;if(s={text:"",values:[]},0>=this.conditions.length)return s;for(n="",_=this.conditions,a=0,h=_.length;h>a;a++){for(e=_[a],""!==n&&(n+=") AND ("),l=e.text.split(this.options.parameterCharacter),r=0,y=e.values,c=0,f=y.length;f>c;c++){if(u=y[c],null!=l[r]&&(n+=""+l[r]),i=this._formatValueAsParam(u),null!=(null!=i?i.text:void 0))for(n+="("+i.text+")",m=i.values,p=0,d=m.length;d>p;p++)o=m[p],s.values.push(o);else n+=this.options.parameterCharacter,s.values.push(i);r+=1}null!=l[r]&&(n+=""+l[r])}return s.text=""+this.conditionVerb+" ("+n+")",s},e}(n.Block),n.WhereBlock=function(t){function e(t){e.__super__.constructor.call(this,"WHERE",t)}return p(e,t),e.prototype.where=function(){var t,e;return t=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],this._condition.apply(this,[t].concat(u.call(e)))},e}(n.AbstractConditionBlock),n.HavingBlock=function(t){function e(t){e.__super__.constructor.call(this,"HAVING",t)}return p(e,t),e.prototype.having=function(){var t,e;return t=arguments[0],e=2<=arguments.length?u.call(arguments,1):[],this._condition.apply(this,[t].concat(u.call(e)))},e}(n.AbstractConditionBlock),n.OrderByBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.orders=[],this._values=[]}return p(e,t),e.prototype.order=function(){var t,e,n;return e=arguments[0],t=arguments[1],n=3<=arguments.length?u.call(arguments,2):[],e=this._sanitizeField(e),void 0===t&&(t=!0),null!==t&&(t=!!t),this._values=n,this.orders.push({field:e,dir:t})},e.prototype._buildStr=function(t){var e,n,r,i,o,s,l,u,a,c,p;if(null==t&&(t=!1),0<this.orders.length){for(s=0,o="",c=this.orders,l=0,a=c.length;a>l;l++){if(i=c[l],""!==o&&(o+=", "),n="",t)n=i.field;else for(r=u=0,p=i.field.length;p>=0?p>u:u>p;r=p>=0?++u:--u)e=i.field.charAt(r),n+=this.options.parameterCharacter===e?this._formatValue(this._values[s++]):e;o+=""+n,null!==i.dir&&(o+=" "+(i.dir?"ASC":"DESC"))}return"ORDER BY "+o}return""},e.prototype.buildStr=function(t){return this._buildStr()},e.prototype.buildParam=function(t){var e=this;return{text:this._buildStr(!0),values:this._values.map(function(t){return e._formatValueAsParam(t)})}},e}(n.Block),n.LimitBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.limits=null}return p(e,t),e.prototype.limit=function(t){return t=this._sanitizeLimitOffset(t),this.limits=t},e.prototype.buildStr=function(t){return this.limits||0===this.limits?"LIMIT "+this.limits:""},e}(n.Block),n.JoinBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.joins=[]}return p(e,t),e.prototype.join=function(t,e,n,r){return null==e&&(e=null),null==n&&(n=null),null==r&&(r="INNER"),t=this._sanitizeTable(t,!0),e&&(e=this._sanitizeTableAlias(e)),n&&(n=this._sanitizeCondition(n)),this.joins.push({type:r,table:t,alias:e,condition:n}),this},e.prototype.left_join=function(t,e,n){return null==e&&(e=null),null==n&&(n=null),this.join(t,e,n,"LEFT")},e.prototype.right_join=function(t,e,n){return null==e&&(e=null),null==n&&(n=null),this.join(t,e,n,"RIGHT")},e.prototype.outer_join=function(t,e,n){return null==e&&(e=null),null==n&&(n=null),this.join(t,e,n,"OUTER")},e.prototype.left_outer_join=function(t,e,n){return null==e&&(e=null),null==n&&(n=null),this.join(t,e,n,"LEFT OUTER")},e.prototype.full_join=function(t,e,n){return null==e&&(e=null),null==n&&(n=null),this.join(t,e,n,"FULL")},e.prototype.cross_join=function(t,e,n){return null==e&&(e=null),null==n&&(n=null),this.join(t,e,n,"CROSS")},e.prototype.buildStr=function(t){var e,n,r,i,o;for(n="",o=this.joins||[],r=0,i=o.length;i>r;r++)e=o[r],""!==n&&(n+=" "),n+=""+e.type+" JOIN ",n+="string"==typeof e.table?e.table:"("+e.table+")",e.alias&&(n+=" "+e.alias),e.condition&&(n+=" ON ("+e.condition+")");return n},e.prototype.buildParam=function(t){var e,r,i,o,s,l,u,a,c,p,h,f,d,_,y;if(l={text:"",values:[]},s=[],i="",0>=this.joins.length)return l;for(_=this.joins,a=0,h=_.length;h>a;a++)e=_[a],"string"==typeof e.table?o={text:""+e.table,values:[]}:e.table instanceof n.QueryBuilder?(e.table.updateOptions({nestedBuilder:!0}),o=e.table.toParam()):(e.updateOptions({nestedBuilder:!0}),o=e.buildParam(t)),e.condition instanceof n.Expression?(r=e.condition.toParam(),o.condition=r.text,o.values=o.values.concat(r.values)):o.condition=e.condition,o.join=e,s.push(o);for(c=0,f=s.length;f>c;c++)for(o=s[c],""!==i&&(i+=" "),i+=""+o.join.type+" JOIN ",i+="string"==typeof o.join.table?o.text:"("+o.text+")",o.join.alias&&(i+=" "+o.join.alias),o.condition&&(i+=" ON ("+o.condition+")"),y=o.values,p=0,d=y.length;d>p;p++)u=y[p],l.values.push(this._formatCustomValue(u));return l.text+=i,l},e}(n.Block),n.UnionBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.unions=[]}return p(e,t),e.prototype.union=function(t,e){return null==e&&(e="UNION"),t=this._sanitizeTable(t,!0),this.unions.push({type:e,table:t}),this},e.prototype.union_all=function(t){return this.union(t,"UNION ALL")},e.prototype.buildStr=function(t){var e,n,r,i,o;for(n="",o=this.unions||[],r=0,i=o.length;i>r;r++)e=o[r],""!==n&&(n+=" "),n+=""+e.type+" ",n+="string"==typeof e.table?e.table:"("+e.table+")";return n},e.prototype.buildParam=function(t){var e,r,i,o,s,l,u,a,c,p,h,f,d,_;if(o={text:"",values:[]},i=[],s="",0>=this.unions.length)return o;for(d=this.unions||[],u=0,p=d.length;p>u;u++)e=d[u],"string"==typeof e.table?r={text:""+e.table,values:[]}:e.table instanceof n.QueryBuilder?(e.table.updateOptions({nestedBuilder:!0}),r=e.table.toParam()):(e.updateOptions({nestedBuilder:!0}),r=e.buildParam(t)),r.type=e.type,i.push(r);for(a=0,h=i.length;h>a;a++)for(r=i[a],""!==s&&(s+=" "),s+=""+r.type+" ("+r.text+")",_=r.values,c=0,f=_.length;f>c;c++)l=_[c],o.values.push(this._formatCustomValue(l));return o.text+=s,o},e}(n.Block),n.QueryBuilder=function(t){function e(t,n){var r,i,o,s,l,u,a,c,p=this;for(e.__super__.constructor.call(this,t),this.blocks=n||[],a=this.blocks,l=0,u=a.length;u>l;l++){r=a[l],c=r.exposedMethods(),s=function(t,e,n){return p[e]=function(){return n.apply(t,arguments),p}};for(o in c){if(i=c[o],null!=this[o])throw new Error(""+this._getObjectClassName(this)+" already has a builder method called: "+o);s(r,o,i)}}}return p(e,t),e.prototype.registerValueHandler=function(t,n){var r,i,o,s;for(s=this.blocks,i=0,o=s.length;o>i;i++)r=s[i],r.registerValueHandler(t,n);return e.__super__.registerValueHandler.call(this,t,n),this},e.prototype.updateOptions=function(t){var e,n,r,i,s;for(this.options=o({},this.options,t),i=this.blocks,s=[],n=0,r=i.length;r>n;n++)e=i[n],s.push(e.options=o({},e.options,t));return s},e.prototype.toString=function(){var t;return function(){var e,n,r,i;for(r=this.blocks,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.buildStr(this));return i}.call(this).filter(function(t){return 0<t.length}).join(this.options.separator)},e.prototype.toParam=function(t){var e,n,r,i,s,l,u,a=this;return null==t&&(t=void 0),i=this.options,null!=t&&(this.options=o({},this.options,t)),l={text:"",values:[]},n=function(){var t,n,r,i;for(r=this.blocks,i=[],t=0,n=r.length;n>t;t++)e=r[t],i.push(e.buildParam(this));return i}.call(this),l.text=function(){var t,r,i;for(i=[],t=0,r=n.length;r>t;t++)e=n[t],i.push(e.text);return i}().filter(function(t){return 0<t.length}).join(this.options.separator),l.values=(u=[]).concat.apply(u,function(){var t,r,i;for(i=[],t=0,r=n.length;r>t;t++)e=n[t],i.push(e.values);return i}()),null==this.options.nestedBuilder&&(this.options.numberedParameters||null!=(null!=t?t.numberedParametersStartAt:void 0))&&(r=1,null!=this.options.numberedParametersStartAt&&(r=this.options.numberedParametersStartAt),s=new RegExp("\\"+this.options.parameterCharacter,"g"),l.text=l.text.replace(s,function(){return""+a.options.numberedParametersPrefix+r++})),this.options=i,l},e.prototype.clone=function(){var t;return new this.constructor(this.options,function(){var e,n,r,i;for(r=this.blocks,i=[],e=0,n=r.length;n>e;e++)t=r[e],i.push(t.clone());return i}.call(this))},e.prototype.isNestable=function(){return!1},e.prototype.getBlock=function(t){return this.blocks.filter(function(e){return e instanceof t})[0]},e}(n.BaseBuilder),n.Select=function(t){function e(t,r){null==r&&(r=null),r||(r=[new n.StringBlock(t,"SELECT"),new n.FunctionBlock(t),new n.DistinctBlock(t),new n.GetFieldBlock(t),new n.FromTableBlock(o({},t,{allowNested:!0})),new n.JoinBlock(o({},t,{allowNested:!0})),new n.WhereBlock(t),new n.GroupByBlock(t),new n.HavingBlock(t),new n.OrderByBlock(t),new n.LimitBlock(t),new n.OffsetBlock(t),new n.UnionBlock(o({},t,{allowNested:!0}))]),e.__super__.constructor.call(this,t,r)}return p(e,t),e.prototype.isNestable=function(){return!0},e}(n.QueryBuilder),n.Update=function(t){function e(t,r){null==r&&(r=null),r||(r=[new n.StringBlock(t,"UPDATE"),new n.UpdateTableBlock(t),new n.SetFieldBlock(t),new n.WhereBlock(t),new n.OrderByBlock(t),new n.LimitBlock(t)]),e.__super__.constructor.call(this,t,r)}return p(e,t),e}(n.QueryBuilder),n.Delete=function(t){function e(t,r){null==r&&(r=null),r||(r=[new n.StringBlock(t,"DELETE"),new n.FromTableBlock(o({},t,{singleTable:!0})),new n.JoinBlock(t),new n.WhereBlock(t),new n.OrderByBlock(t),new n.LimitBlock(t)]),e.__super__.constructor.call(this,t,r)}return p(e,t),e}(n.QueryBuilder),n.Insert=function(t){function e(t,r){null==r&&(r=null),r||(r=[new n.StringBlock(t,"INSERT"),new n.IntoTableBlock(t),new n.InsertFieldValueBlock(t),new n.InsertFieldsFromQueryBlock(t)]),e.__super__.constructor.call(this,t,r)}return p(e,t),e}(n.QueryBuilder),_={VERSION:"4.2.2",expr:function(t){return new n.Expression(t)},select:function(t,e){return new n.Select(t,e)},update:function(t,e){return new n.Update(t,e)},insert:function(t,e){return new n.Insert(t,e)},"delete":function(t,e){return new n.Delete(t,e)},registerValueHandler:n.registerValueHandler,fval:n.fval},_.remove=_["delete"],_.cls=n,_},n=r(),("undefined"!=typeof define&&null!==define?define.amd:void 0)?define(function(){return n}):("undefined"!=typeof module&&null!==module?module.exports:void 0)?module.exports=n:"undefined"!=typeof window&&null!==window&&(window.squel=n),n.flavours={},n.useFlavour=function(t){var e;if(null==t&&(t=null),!t)return n;if(n.flavours[t]instanceof Function)return e=r(),n.flavours[t].call(null,e),e;throw new Error("Flavour not available: "+t)},n.flavours.postgres=function(t){var e;return e=t.cls,e.DefaultQueryBuilderOptions.numberedParameters=!0,e.DefaultQueryBuilderOptions.numberedParametersStartAt=1,e.DefaultQueryBuilderOptions.autoQuoteAliasNames=!1,e.ReturningBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this._str=null}return p(e,t),e.prototype.returning=function(t){return this._str=this._sanitizeField(t)},e.prototype.buildStr=function(){return this._str?"RETURNING "+this._str:""},e}(e.Block),e.Insert=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"INSERT"),new e.IntoTableBlock(t),new e.InsertFieldValueBlock(t),new e.InsertFieldsFromQueryBlock(t),new e.ReturningBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder),e.Update=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"UPDATE"),new e.UpdateTableBlock(t),new e.SetFieldBlock(t),new e.WhereBlock(t),new e.OrderByBlock(t),new e.LimitBlock(t),new e.ReturningBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder),e.Delete=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"DELETE"),new e.FromTableBlock(o({},t,{singleTable:!0})),new e.JoinBlock(t),new e.WhereBlock(t),new e.OrderByBlock(t),new e.LimitBlock(t),new e.ReturningBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder)},n.flavours.mysql=function(t){var e,n,r;return e=t.cls,e.TargetTableBlock=function(t){function e(){return n=e.__super__.constructor.apply(this,arguments)}
return p(e,t),e.prototype.target=function(t){return this._setValue(this._sanitizeTable(t))},e}(e.AbstractValueBlock),e.MysqlOnDuplicateKeyUpdateBlock=function(t){function e(){return r=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.onDupUpdate=function(t,e,n){return this._set(t,e,n)},e.prototype.buildStr=function(){var t,e,n,r,i,o,s;for(r="",n=o=0,s=this.fields.length;s>=0?s>o:o>s;n=s>=0?++o:--o)t=this.fields[n],""!==r&&(r+=", "),i=this.values[0][n],e=this.fieldOptions[0][n],r+="undefined"==typeof i?t:""+t+" = "+this._formatValue(i,e);return""===r?"":"ON DUPLICATE KEY UPDATE "+r},e.prototype.buildParam=function(t){var e,n,r,i,o,s,l;for(r="",i=[],n=s=0,l=this.fields.length;l>=0?l>s:s>l;n=l>=0?++s:--s)e=this.fields[n],""!==r&&(r+=", "),o=this.values[0][n],"undefined"==typeof o?r+=e:(r+=""+e+" = "+this.options.parameterCharacter,i.push(this._formatValueAsParam(o)));return{text:""===r?"":"ON DUPLICATE KEY UPDATE "+r,values:i}},e}(e.AbstractSetFieldBlock),e.Insert=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"INSERT"),new e.IntoTableBlock(t),new e.InsertFieldValueBlock(t),new e.InsertFieldsFromQueryBlock(t),new e.MysqlOnDuplicateKeyUpdateBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder),e.Delete=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"DELETE"),new e.TargetTableBlock(t),new e.FromTableBlock(o({},t,{singleTable:!0})),new e.JoinBlock(t),new e.WhereBlock(t),new e.OrderByBlock(t),new e.LimitBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder)},o=function(){var t,e,n,r,i,o,s;if(t=arguments[0],n=2<=arguments.length?u.call(arguments,1):[])for(o=0,s=n.length;s>o;o++)if(r=n[o])for(e in r)a.call(r,e)&&(i=r[e],t[e]=i);return t},n.flavours.mssql=function(t){var e;return e=t.cls,e.DefaultQueryBuilderOptions.replaceSingleQuotes=!0,e.DefaultQueryBuilderOptions.autoQuoteAliasNames=!1,e.DefaultQueryBuilderOptions.numberedParametersPrefix="@",t.registerValueHandler(Date,function(t){return"'"+t.getUTCFullYear()+"-"+(t.getUTCMonth()+1)+"-"+t.getUTCDate()+" "+t.getUTCHours()+":"+t.getUTCMinutes()+":"+t.getUTCSeconds()+"'"}),e.MssqlLimitOffsetTopBlock=function(t){function n(t){n.__super__.constructor.call(this,t),this.limits=null,this.offsets=null}var r,i,o,s,l,u,a,h;return p(n,t),l=function(t){return t=this._sanitizeLimitOffset(t),this._parent.limits=t},o=function(t){function e(t){e.__super__.constructor.call(this,t.options),this._parent=t}return p(e,t),e}(e.Block),r=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.limit=l,e.prototype.buildStr=function(t){return this._parent.limits&&this._parent.offsets?"FETCH NEXT "+this._parent.limits+" ROWS ONLY":""},e}(o),s=function(t){function e(){return a=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.top=l,e.prototype.buildStr=function(t){return this._parent.limits&&!this._parent.offsets?"TOP ("+this._parent.limits+")":""},e}(o),i=function(t){function e(){return this.offset=c(this.offset,this),h=e.__super__.constructor.apply(this,arguments)}return p(e,t),e.prototype.offset=function(t){return t=this._sanitizeLimitOffset(t),this._parent.offsets=t},e.prototype.buildStr=function(t){return this._parent.offsets?"OFFSET "+this._parent.offsets+" ROWS":""},e}(o),n.prototype.LIMIT=function(t){return this.constructor(t),new r(this)},n.prototype.TOP=function(t){return this.constructor(t),new s(this)},n.prototype.OFFSET=function(t){return this.constructor(t),new i(this)},n}.call(this,e.Block),e.MssqlUpdateTopBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.limits=null}var n;return p(e,t),n=function(t){return t=this._sanitizeLimitOffset(t),this.limits=t},e.prototype.limit=n,e.prototype.top=n,e.prototype.buildStr=function(t){return this.limits?"TOP ("+this.limits+")":""},e}(e.Block),e.MssqlInsertFieldValueBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this.outputs=[]}return p(e,t),e.prototype.output=function(t){var e,n,r,i;if("string"==typeof t)return this.outputs.push("INSERTED."+this._sanitizeField(t));for(i=[],n=0,r=t.length;r>n;n++)e=t[n],i.push(this.outputs.push("INSERTED."+this._sanitizeField(e)));return i},e.prototype.buildStr=function(t){if(0>=this.fields.length)throw new Error("set() needs to be called");return"("+this.fields.join(", ")+") "+(0!==this.outputs.length?"OUTPUT "+this.outputs.join(", ")+" ":"")+"VALUES ("+this._buildVals().join("), (")+")"},e.prototype.buildParam=function(t){var e,n,r,i,o,s,l;if(0>=this.fields.length)throw new Error("set() needs to be called");for(r="",s=this._buildValParams(),i=s.vals,n=s.params,e=o=0,l=this.fields.length;l>=0?l>o:o>l;e=l>=0?++o:--o)""!==r&&(r+=", "),r+=this.fields[e];return{text:"("+r+") "+(0!==this.outputs.length?"OUTPUT "+this.outputs.join(", ")+" ":"")+"VALUES ("+i.join("), (")+")",values:n}},e}(e.InsertFieldValueBlock),e.MssqlUpdateDeleteOutputBlock=function(t){function e(t){e.__super__.constructor.call(this,t),this._outputs=[]}return p(e,t),e.prototype.outputs=function(t){var e,n,r;r=[];for(n in t)e=t[n],r.push(this.output(n,e));return r},e.prototype.output=function(t,e){return null==e&&(e=null),t=this._sanitizeField(t),e&&(e=this._sanitizeFieldAlias(e)),this._outputs.push({name:this.options.forDelete?"DELETED."+t:"INSERTED."+t,alias:e})},e.prototype.buildStr=function(t){var e,n,r,i,o;if(n="",this._outputs.length>0){for(o=this._outputs,r=0,i=o.length;i>r;r++)e=o[r],""!==n&&(n+=", "),n+=e.name,e.alias&&(n+=" AS "+e.alias);n="OUTPUT "+n}return n},e}(e.Block),e.Select=function(t){function n(t,r){var i;null==r&&(r=null),i=new e.MssqlLimitOffsetTopBlock(t),r||(r=[new e.StringBlock(t,"SELECT"),new e.DistinctBlock(t),i.TOP(t),new e.GetFieldBlock(t),new e.FromTableBlock(o({},t,{allowNested:!0})),new e.JoinBlock(o({},t,{allowNested:!0})),new e.WhereBlock(t),new e.GroupByBlock(t),new e.OrderByBlock(t),i.OFFSET(t),i.LIMIT(t),new e.UnionBlock(o({},t,{allowNested:!0}))]),n.__super__.constructor.call(this,t,r)}return p(n,t),n.prototype.isNestable=function(){return!0},n}(e.QueryBuilder),e.Update=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"UPDATE"),new e.MssqlUpdateTopBlock(t),new e.UpdateTableBlock(t),new e.SetFieldBlock(t),new e.MssqlUpdateDeleteOutputBlock(t),new e.WhereBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder),e.Delete=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"DELETE"),new e.FromTableBlock(o({},t,{singleTable:!0})),new e.JoinBlock(t),new e.MssqlUpdateDeleteOutputBlock(o({},t,{forDelete:!0})),new e.WhereBlock(t),new e.OrderByBlock(t),new e.LimitBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder),e.Insert=function(t){function n(t,r){null==r&&(r=null),r||(r=[new e.StringBlock(t,"INSERT"),new e.IntoTableBlock(t),new e.MssqlInsertFieldValueBlock(t),new e.InsertFieldsFromQueryBlock(t)]),n.__super__.constructor.call(this,t,r)}return p(n,t),n}(e.QueryBuilder)}}).call(this);

},{}],7:[function(require,module,exports){
var squel=require("squel"),createStatement=require("./createStatement.js").createStatement,_=require("lodash");module.exports={create:function(t){function e(t){return!_.isEmpty(t)}function n(){return e(u)&&e(d)}function r(){var t;return t=_.map(s,function(t){return t.leng&&!_.isEmpty(t["const"])?t.name+" "+t.dataType+"("+t.leng+") "+t["const"].join(" "):t.leng?t.name+" "+t.dataType+"("+t.leng+")":_.isEmpty(t["const"])?t.name+" "+t.dataType:t.name+" "+t.dataType+t["const"].join(" ")})}var i,o=t.table,s=t.columns,a=t.constraint,u=a.primary_key,d=a.foreign_key;return i=r(),n()?createStatement().table(o).columns(i).primaryKey(u).foreignKeys(d).toString()+";":e(u)?createStatement().table(o).columns(i).primaryKey(u).toString()+";":e(d)?createStatement().table(o).columns(i).foreignKeys(d).toString()+";":createStatement().table(o).columns(i).toString()+";"},select:function(t){function e(){return _.isArray(r)&&(r=r.join(", ")),i.field(r),i}var n=t.table,r=t.field,i=squel.select().from(n);return _.isEmpty(r)||(i=e()),_.isEmpty(t.conditions)||(i=this._appendConditions(i,t.conditions)),_.isEmpty(t.order)||(i=this._appendOrderBy(i,t.order)),t.distinct&&(i=i.distinct()),i.toString()+";"},update:function(t){var e=t.table,n=t.values,r=squel.update().table(e).setFields(n);return _.isEmpty(t.conditions)||(r=this._appendConditions(r,t.conditions)),_.isEmpty(t.order)||(r=this._appendOrderBy(r,t.order)),r.toString()+";"},insert:function(t){var e,n=t.table,r=t.data;return e=squel.insert().into(n).setFieldsRows(r),e.toString()+";"},"delete":function(t){var e,n=t.table,r=t.conditions,i=squel.remove().from(n);return e=this._appendConditions(i,r),e.toString()+";"},_appendConditions:function(t,e){function n(t){return!_.isEmpty(t)&&_.isArray(t)}function r(t){var e=/^((?:NOT\s|)(?:(?:\w)+)\s(?:(?:>|<|<>|<=>|=|!=|<=|>=)\s(?:(?:'(?:(?:[々〇〻\u3400-\u9FFF\uF900-\uFAFF]|[\uD840-\uD87F][\uDC00-\uDFFF])|[ぁ-んァ-ン]|\w)+')|\d+)|BETWEEN\s\d+\sAND\s\d+))((?:\s(?:AND|OR)\s)(?:(?:NOT\s|)(?:(?:|\w)\s(?:(?:>|<|<>|<=>|=|!=|<=|>=)\s(?:'(?:(?:(?:[々〇〻\u3400-\u9FFF\uF900-\uFAFF]|[\uD840-\uD87F][\uDC00-\uDFFF])|[ぁ-んァ-ン]|\w)+')|\d+)|BETWEEN\s\d+\sAND\s\d+))))*$/;if(!e.test(t))throw new SyntaxError("syntax Error "+t)}var i=t;return n(e)&&_.forEach(e,function(t){r(t),i=i.where(t)}),i},_appendOrderBy:function(t,e){var n=t;return _.forEach(e,function(t,e){n=n.order(e,t)}),n}};

},{"./createStatement.js":8,"lodash":5,"squel":6}],8:[function(require,module,exports){
var squel=require("squel"),util=require("util"),_=require("lodash"),CreateQuery,ForeignKeyBlock,PrimaryKeyBlock,ColumnBlock,CreateTableBlock;CreateTableBlock=function(e){squel.cls.AbstractTableBlock.call(this,e),CreateTableBlock.prototype.table=function(e,r){var l=r;return(null===r||void 0===r)&&(l=null),this._table(e,l)}},util.inherits(CreateTableBlock,squel.cls.AbstractTableBlock),ColumnBlock=function(){var e=[];ColumnBlock.prototype.columns=function(r){if(!Array.isArray(r))throw new TypeError(r+"is not Array");e.push(r.join(", "))},ColumnBlock.prototype.buildStr=function(){return"("+e.join(",")+")"}},util.inherits(ColumnBlock,squel.cls.Block),PrimaryKeyBlock=function(){var e=this;this.keys=[],PrimaryKeyBlock.prototype.primaryKey=function(r){var l=r;Array.isArray(r)&&(l=r.join(", ")),e.keys.push(l)},PrimaryKeyBlock.prototype.buildStr=function(){var r,l,o,t;if(r="",e.keys.length>0){for(l=e.keys,o=0;o<l.length;o++)t=l[o],""!==r&&(r+=", "),r+=t;r="PRIMARY KEY("+r+")"}return r}},util.inherits(PrimaryKeyBlock,squel.cls.Block),ForeignKeyBlock=function(){var e=this;this.keys=[],ForeignKeyBlock.prototype.foreignKeys=function(r){if(!Array.isArray(r))throw new TypeError(r+"is not Array.");r.forEach(function(r){e.foreignKey(r.col_name,r.table,r.parent_col)})},ForeignKeyBlock.prototype.foreignKey=function(r,l,o){var t,n="FOREIGN KEY (<%= col %>) REFERENCES <%= table %>(<%= parentCol %>)";t=_.template(n),e.keys.push(t({col:r,table:l,parentCol:o}))},ForeignKeyBlock.prototype.buildStr=function(){var r,l,o,t;if(r="",e.keys.length>0)for(l=e.keys,o=0;o<l.length;o++)t=l[o],""!==r&&(r+=", "),r+=t;return r}},util.inherits(ForeignKeyBlock,squel.cls.Block),CreateQuery=function(e){squel.cls.QueryBuilder.call(this,e,[new squel.cls.StringBlock(e,"CREATE TABLE"),new CreateTableBlock({singleTable:!0}),new ColumnBlock,new PrimaryKeyBlock(e),new ForeignKeyBlock(e)])},util.inherits(CreateQuery,squel.cls.QueryBuilder),exports.createStatement=squel.create=function(e){return new CreateQuery(e)};

},{"lodash":5,"squel":6,"util":4}],9:[function(require,module,exports){
$(function(){$("#find_dtable").draggable({connectToSortable:".ddrop_sortable",helper:"clone",revert:"invalid"}),$("#find_deletecondition").draggable({connectToSortable:".ddrop_sortable",helper:"clone",revert:"invalid"}),$(".ddrop").draggable({connectToSortable:".dspace",helper:"clone",revert:"invalid"}),$(".removeZone").droppable({drop:function(e,a){a.draggable.hasClass("used")&&(a.draggable.parents("[class^=ddrop]").find("div").addClass("ddrop_sortable"),a.draggable.remove())}}),$(".dspace").sortable({revert:!0,stop:function(e,a){var d=0;a.item.hasClass("checked")||(a.item.addClass("checked").attr({name:drop_name,id:"a"+drop_name}),$("*[name="+drop_name+"] > *[name=tablename]").attr("name","a"+(drop_name+1)),drop_name+=10),a.item.hasClass("usedcheck")&&a.item.removeClass("usedcheck").addClass("used"),$(".ddrop_sortable").sortable({stop:function(e,a){d=$(this).parents("[class^=ddrop]").attr("name"),$("*[name="+d+"] > div > div > *[name=deletecolum]").attr("name","a"+(+d+2)),$("*[name="+d+"] > div > div > *[name=dcons]").attr("name","a"+(+d+3));var r="a"+(limit_count[+d]+ +d);$("*[name="+d+"] > div > div > *[name=deletecolum2]").attr("name",r),$("*[name="+r+"]").length>0,a.item.hasClass("usedcheck")&&(a.item.removeClass("usedcheck").addClass("used"),$(this).removeClass("ddrop_sortable").addClass("disabled"))}})}})});

},{}],10:[function(require,module,exports){
$(function(){$(".drag").draggable({connectToSortable:".drop",helper:function(){return $(this).clone().addClass("drag")},revert:"invalid"}),$(".drop").droppable({accept:".drag",drop:function(a,e){e.draggable.clone().appendTo(this)}}),$(".drop").draggable({connectToSortable:".cspace",helper:function(){return $(this).clone().addClass("drop")},revert:"invalid"}),$(".cspace").droppable({accept:".drop",drop:function(a,e){$(".drop").sortable({connectWith:".drop"}),e.draggable.clone().appendTo(this).attr({name:drop_name,id:"a"+drop_name}),drop_name+=10,$(document).ready(function(){$(".drop").droppable({accept:".drag",drop:function(a,e){e.draggable.clone().appendTo(this).removeClass("drag");var n=$(this).attr("name"),r=Number(n);$("*[name="+r+"] > div > *[name=culum]").attr("name","a"+(r+1)),$("*[name="+r+"] > div > *[name=type]").attr("name","a"+(r+2)),$("*[name="+r+"] > div > *[name=num]").attr("name","a"+(r+3));var t="a"+(limit_count[r]+r);$("*[name="+r+"] > div > *[name=limit]").attr("name",t),$("*[name="+t+"]").length>0&&limit_count[r]++}})})}})});

},{}],11:[function(require,module,exports){
$(function(){function cTableMake(data){for(var i=0;i<data[0].length;i++){document.getElementById("ctable"+i).style.display="block";for(var wid=[],w=0;w<data[1][i].length;w++)wid[w]=130;for(var ro=[],r=0;r<data[1][i].length;r++)ro[r]={readOnly:!0};var container=document.getElementById("ctable"+i);eval("hot"+i+" = new Handsontable(container, {	data: data[0][i],	height: data[0].length * 25 + 125,	colWidths: wid,	startCols: data[1][i].length,	rowHeaders: true,	colHeaders: data[1][i],	fillHandle: true,	columns: ro		});")}}function iTableMake(data){var tlen=3;localStorage.length<tlen&&(tlen=localStorage.length);for(var i=0;tlen>i;i++){var index=localStorage.key(i),table=localStorage.getItem(index),tabledata=JSON.parse(table),ai0=0,ai1=0,ai2=0,aaa=data[0][i].length;""==data[0][i][0]&&(aaa-=1),document.getElementById("itable"+i).style.display="block";for(var wid=[],w=0;w<data[1][i].length;w++)wid[w]=130;for(var ro=[],r=0;r<data[1][i].length;r++)if($.inArray("auto increment",tabledata.columns[r]["const"])>=0)if(ro[r]={readOnly:!0},eval("ai"+i+"= ai"+i+"+1"),0==aaa){var bbb=new Array(data[1][i].length);bbb[r]=1,data[0][i][aaa]=bbb}else{var bbb=new Array(data[1][i].length),increment=Number(data[0][i][aaa-1][r])+1;increment=String(increment),bbb[r]=increment,data[0][i][aaa]=bbb}else ro[r]={readOnly:!1};var container=document.getElementById("itable"+i);eval("hot"+i+" = new Handsontable(container, {	data: data[0][i],	height: data[0].length * 25 + 120,	minSpareRows: 1-ai"+i+",	colWidths: wid,	startCols: data[1][i].length,	rowHeaders: true,	colHeaders: data[1][i],	fillHandle: true,	maxRows:data[0][i].length + 1,	columns: ro		});")}hot0.updateSettings({cells:function(e,t,a){var n={},l=data[0][0].length-1;return l>e&&(n.readOnly=!0),n}}),localStorage.length>1&&hot1.updateSettings({cells:function(e,t,a){var n={},l=data[0][1].length-1;return l>e&&(n.readOnly=!0),n}}),localStorage.length>2&&hot2.updateSettings({cells:function(e,t,a){var n={},l=data[0][2].length-1;return l>e&&(n.readOnly=!0),n}})}function uTableMake(data){var tlen=3,editdata0=[],editdata1=[],editdata2=[];localStorage.length<tlen&&(tlen=localStorage.length);for(var i=0;tlen>i;i++){var index=localStorage.key(i),table=localStorage.getItem(index),tabledata=JSON.parse(table);document.getElementById("utable"+i).style.display="block";for(var wid=[],w=0;w<data[1][i].length;w++)wid[w]=130;for(var ro=[],r=0;r<data[1][i].length;r++)$.inArray("primary key",tabledata.columns[r]["const"])>=0?ro[r]={readOnly:!0}:ro[r]={readOnly:!1};var container=document.getElementById("utable"+i);eval("hot"+i+" = new Handsontable(container, {	data: data[0][i],	height: data[0].length * 25 + 100,	colWidths: wid,	startCols: data[1][i].length,	rowHeaders: true,	colHeaders: data[1][i],	fillHandle: true,	columns: ro		});")}var j0=0,j1=0,j2=0;hot0.addHook("afterChange",function(e,t){if("edit"===t&&e[0][2]!=e[0][3]){for(var a=0,n=0;n<editdata0.length;n++)editdata0[n][0][1]===e[0][1]&&(editdata0[n][0][3]=e[0][3],a=1);0==a&&(editdata0[j0]=e,j0++)}hot0.updateSettings({cells:function(t,a,n){var l={};return t!=e[0][0]&&(l.readOnly=!0),l}})}),window.tableUpdate0=function(){var e=[[[]]],t=getData(),a=hot0.getColHeader(),n=localStorage.getItem(0);n=JSON.parse(n);for(var l=editdata0[0][0][0],o=n.data[l][a[0]],r={},i=[],d=0;d<editdata0.length;d++){r[t[1][0][editdata0[d][0][1]]]=editdata0[d][0][3];var c=JSON.stringify(editdata0),s=JSON.stringify(r);s=JSON.parse(s);var m=hot0.getDataAtRow(editdata0[0][0][0]),g=editdata0[0][0][0],u=t[1][0][editdata0[d][0][1]];console.log("i:"+d),console.log(JSON.stringify(n.data[l])),console.log(n.data[l][u]),n.data[l][u]=s[u],console.log(n.data[l][u]),console.log("b:"+c),console.log("c:"+s[u]),console.log("変更された行のデータ内容:"+m[d]),console.log("変更された0番目の表の行番号:"+g),console.log(u),i[d]=u;for(var y=0;y<m.length;y++)null==m[y]?m[y]=null:m[y]=m[y].trim()}for(var d=0;d<n.columns.length;d++){if(null!=m[d]){if("int"==n.columns[d].dataType&&!m[d].match(/^[1-9][0-9]*$/))return document.getElementById("uErr0").innerText='　int型の"'+n.columns[d].name+'"の列の値に格納できるのは整数値のみです。',!1;if("char"==n.columns[d].dataType&&n.columns[d].leng!=m[d].length)return document.getElementById("uErr0").innerText='　char型の"'+n.columns[d].name+'"の列の値に格納できる文字列は'+n.columns[d].leng+"桁の固定長のみです。",!1;if(tabledata.columns[d].leng<m[d].length)return document.getElementById("uErr0").innerText='　"'+n.columns[d].name+'"の列に格納できる値は'+n.columns[d].leng+"桁までです。",!1}for(var S=0;S<n.columns[d]["const"].length;S++){if("not null"==n.columns[d]["const"][S]&&(null==m[d]||""==m[d]))return document.getElementById("uErr0").innerText='　not null制約の"'+n.columns[d].name+'"の列の値にnullが含まれています。',!1;for(var f=0;f<t[0][0].length;f++)if("unique key"==n.columns[d]["const"][S]&&null!=m[d]&&t[0][0][f][d]==m[d]&&f!=editdata0[0][0][0])return document.getElementById("uErr0").innerText='　unique key制約の"'+n.columns[d].name+'"の列の値に重複する値が含まれています。',!1;if("primary key"==n.columns[d]["const"][S]&&(null==m[d]||""==m[d]))return document.getElementById("uErr0").innerText='　主キー制約の"'+n.columns[d].name+'"の列の値にnullが含まれています。',!1;for(var f=0;f<t[0][0].length;f++)if("primary key"==n.columns[d]["const"][S]&&null!=m[d]&&t[0][0][f][d]==m[d]&&f!=editdata0[0][0][0])return document.getElementById("uErr0").innerText='　主キー制約の"'+n.columns[d].name+'"の列の値に一意でない値が含まれています。',!1}}console.log(JSON.stringify(n)),console.log(i),console.log(i.length),console.log(r);for(var v="",d=0;d<i.length;d++){0!=d&&(v+=","),console.log(i[d]),console.log(r[i[d]]);var E=i[d]+" = "+r[i[d]];v+=E}var h="UPDATE "+n.table+" SET "+v+" WHERE "+a[0]+" = "+o+";";console.log(h),console.log(r),console.log(v),sessionStorage.setItem("updateState",h);var b=JSON.stringify(n);localStorage.setItem(0,b),h&&$("#umain_sqlarea").val(h),e=getData(),makeTitle(),uTableMake(e)},localStorage.length>1&&(hot1.addHook("afterChange",function(e,t){if("edit"===t&&e[0][2]!=e[0][3]){for(var a=0,n=0;n<editdata1.length;n++)editdata1[n][0][1]===e[0][1]&&(editdata1[n][0][3]=e[0][3],a=1);0==a&&(editdata1[j1]=e,j1++)}hot1.updateSettings({cells:function(t,a,n){var l={};return t!=e[0][0]&&(l.readOnly=!0),l}})}),window.tableUpdate1=function(){var e=[[[]]],t=getData(),a=hot1.getColHeader(),n=localStorage.getItem(1);n=JSON.parse(n);for(var l=editdata1[0][0][0],o=n.data[l][a[0]],r={},i=[],d=0;d<editdata1.length;d++){r[t[1][1][editdata1[d][0][1]]]=editdata1[d][0][3];var c=JSON.stringify(editdata1),s=JSON.stringify(r);s=JSON.parse(s);var m=hot1.getDataAtRow(editdata1[0][0][0]),g=editdata1[0][0][0],u=t[1][1][editdata1[d][0][1]];console.log("i:"+d),console.log(JSON.stringify(n.data[l])),console.log(n.data[l][u]),n.data[l][u]=s[u],console.log(n.data[l][u]),console.log("b:"+c),console.log("c:"+s[u]),console.log("変更された行のデータ内容:"+m[d]),console.log("変更された0番目の表の行番号:"+g),console.log(u),i[d]=u;for(var y=0;y<m.length;y++)null==m[y]?m[y]=null:m[y]=m[y].trim()}for(var d=0;d<n.columns.length;d++){if(null!=m[d]){if("int"==n.columns[d].dataType&&!m[d].match(/^[1-9][0-9]*$/))return document.getElementById("uErr1").innerText='　int型の"'+n.columns[d].name+'"の列の値に格納できるのは整数値のみです。',!1;if("char"==n.columns[d].dataType&&n.columns[d].leng!=m[d].length)return document.getElementById("uErr1").innerText='　char型の"'+n.columns[d].name+'"の列の値に格納できる文字列は'+n.columns[d].leng+"桁の固定長のみです。",!1;if(tabledata.columns[d].leng<m[d].length)return document.getElementById("uErr1").innerText='　"'+n.columns[d].name+'"の列に格納できる値は'+n.columns[d].leng+"桁までです。",!1}for(var S=0;S<n.columns[d]["const"].length;S++){if("not null"==n.columns[d]["const"][S]&&(null==m[d]||""==m[d]))return document.getElementById("uErr1").innerText='　not null制約の"'+n.columns[d].name+'"の列の値にnullが含まれています。',!1;for(var f=0;f<t[0][1].length-1;f++)if("unique key"==n.columns[d]["const"][S]&&null!=m[d]&&t[0][1][f][d]==m[d]&&f!=editdata1[0][0][0])return document.getElementById("uErr1").innerText='　unique key制約の"'+n.columns[d].name+'"の列の値に重複する値が含まれています。',!1;if("primary key"==n.columns[d]["const"][S]&&(null==m[d]||""==m[d]))return document.getElementById("uErr1").innerText='　主キー制約の"'+n.columns[d].name+'"の列の値にnullが含まれています。',!1;for(var f=0;f<t[0][1].length-1;f++)if("primary key"==n.columns[d]["const"][S]&&null!=m[d]&&t[0][1][f][d]==m[d]&&f!=editdata1[0][0][0])return document.getElementById("uErr1").innerText='　主キー制約の"'+n.columns[d].name+'"の列の値に一意でない値が含まれています。',!1}}console.log(JSON.stringify(n)),console.log(i),console.log(i.length),console.log(r);for(var v="",d=0;d<i.length;d++){0!=d&&(v+=","),console.log(i[d]),console.log(r[i[d]]);var E=i[d]+" = "+r[i[d]];v+=E}var h="UPDATE "+n.table+" SET "+v+" WHERE "+a[0]+" = "+o+";";console.log(h),console.log(r),console.log(v),sessionStorage.setItem("updateState",h);var b=JSON.stringify(n);localStorage.setItem(1,b),h&&$("#umain_sqlarea").val(h),e=getData(),makeTitle(),uTableMake(e)}),localStorage.length>2&&(hot2.addHook("afterChange",function(e,t){if("edit"===t&&e[0][2]!=e[0][3]){for(var a=0,n=0;n<editdata2.length;n++)editdata2[n][0][1]===e[0][1]&&(editdata2[n][0][3]=e[0][3],a=1);0==a&&(editdata2[j2]=e,j2++)}hot2.updateSettings({cells:function(t,a,n){var l={};return t!=e[0][0]&&(l.readOnly=!0),l}})}),window.tableUpdate2=function(){var e=[[[]]],t=getData(),a=hot2.getColHeader(),n=localStorage.getItem(2);n=JSON.parse(n);for(var l=editdata2[0][0][0],o=n.data[l][a[0]],r={},i=[],d=0;d<editdata2.length;d++){r[t[1][2][editdata2[d][0][1]]]=editdata2[d][0][3];var c=JSON.stringify(editdata2),s=JSON.stringify(r);s=JSON.parse(s);var m=hot2.getDataAtRow(editdata2[0][0][0]),g=editdata2[0][0][0],u=t[1][2][editdata2[d][0][1]];console.log("i:"+d),console.log(JSON.stringify(n.data[l])),console.log(n.data[l][u]),n.data[l][u]=s[u],console.log(n.data[l][u]),console.log("b:"+c),console.log("c:"+s[u]),console.log("変更された行のデータ内容:"+m[d]),console.log("変更された0番目の表の行番号:"+g),console.log(u),i[d]=u;for(var y=0;y<m.length;y++)null==m[y]?m[y]=null:m[y]=m[y].trim()}for(var d=0;d<n.columns.length;d++){if(null!=m[d]){if("int"==n.columns[d].dataType&&!m[d].match(/^[1-9][0-9]*$/))return document.getElementById("uErr2").innerText='　int型の"'+n.columns[d].name+'"の列の値に格納できるのは整数値のみです。',!1;if("char"==n.columns[d].dataType&&n.columns[d].leng!=m[d].length)return document.getElementById("uErr2").innerText='　char型の"'+n.columns[d].name+'"の列の値に格納できる文字列は'+n.columns[d].leng+"桁の固定長のみです。",!1;if(tabledata.columns[d].leng<m[d].length)return document.getElementById("uErr2").innerText='　"'+n.columns[d].name+'"の列に格納できる値は'+n.columns[d].leng+"桁までです。",!1}for(var S=0;S<n.columns[d]["const"].length;S++){if("not null"==n.columns[d]["const"][S]&&(null==m[d]||""==m[d]))return document.getElementById("uErr2").innerText='　not null制約の"'+n.columns[d].name+'"の列の値にnullが含まれています。',!1;for(var f=0;f<t[0][2].length-1;f++)if("unique key"==n.columns[d]["const"][S]&&null!=m[d]&&t[0][2][f][d]==m[d]&&f!=editdata2[0][0][0])return document.getElementById("uErr2").innerText='　unique key制約の"'+n.columns[d].name+'"の列の値に重複する値が含まれています。',!1;if("primary key"==n.columns[d]["const"][S]&&(null==m[d]||""==m[d]))return document.getElementById("uErr2").innerText='　主キー制約の"'+n.columns[d].name+'"の列の値にnullが含まれています。',!1;for(var f=0;f<t[0][2].length-1;f++)if("primary key"==n.columns[d]["const"][S]&&null!=m[d]&&t[0][2][f][d]==m[d]&&f!=editdata2[0][0][0])return document.getElementById("uErr2").innerText='　主キー制約の"'+n.columns[d].name+'"の列の値に一意でない値が含まれています。',!1}}console.log(JSON.stringify(n)),console.log(i),console.log(i.length),console.log(r);for(var v="",d=0;d<i.length;d++){0!=d&&(v+=","),console.log(i[d]),console.log(r[i[d]]);var E=i[d]+" = "+r[i[d]];v+=E}var h="UPDATE "+n.table+" SET "+v+" WHERE "+a[0]+" = "+o+";";console.log(h),console.log(r),console.log(v),sessionStorage.setItem("updateState",h);var b=JSON.stringify(n);localStorage.setItem(2,b),h&&$("#umain_sqlarea").val(h),e=getData(),makeTitle(),uTableMake(e)})}function dTableMake(data){for(var i=0;i<data[0].length;i++){document.getElementById("dtable"+i).style.display="block";for(var wid=[],w=0;w<data[1][i].length;w++)wid[w]=130;for(var ro=[],r=0;r<data[1][i].length;r++)ro[r]={readOnly:!0};var container=document.getElementById("dtable"+i);eval("hot"+i+" = new Handsontable(container, {	data: data[0][i],	height: data[0].length * 25 + 100,	colWidths: wid,	startCols: data[1][i].length,	rowHeaders: true,	colHeaders: data[1][i],	fillHandle: true,	removeRowPlugin: true,	columns: ro		});")}}function sTableMake(data){for(var i=0;i<data[0].length;i++){document.getElementById("stable"+i).style.display="block";for(var wid=[],w=0;w<data[1][i].length;w++)wid[w]=130;for(var ro=[],r=0;r<data[1][i].length;r++)ro[r]={readOnly:!0};var container=document.getElementById("stable"+i);eval("hot"+i+" = new Handsontable(container, {	data: data[0][i],	height: data[0].length * 25 + 100,	colWidths: wid,	startCols: data[1][i].length,	columnSorting: true,	rowHeaders: true,	colHeaders: data[1][i],	fillHandle: true,	columns: ro		});")}}function getData(){var e=[[[]]],t=[[]],a=3;localStorage.length<a&&(a=localStorage.length);for(var n=0;a>n;n++){var l=localStorage.key(n),o=localStorage.getItem(l),r=JSON.parse(o);t[n]=[];for(var i=0;i<r.columns.length;i++)t[n][i]=r.columns[i].name;var d,c,s,m=0;for(e[n]=[],d=0;c=r.data[d++];){var g=[],u=0;for(s in c)g[u]=c[s],u++;e[n][m]=g,m++}}return[e,t]}function makeTitle(){var e=3;localStorage.length<e&&(e=localStorage.length);for(var t=0;e>t;t++){var a=localStorage.key(t),n=localStorage.getItem(a),l=JSON.parse(n);document.getElementById("ctablename"+t).innerHTML="テーブル名:"+l.table,document.getElementById("itablename"+t).innerHTML="テーブル名："+l.table+'　　　<button id="iBtn'+t+'" onClick="tableInsert'+t+'()">追加要素を確定</button><label id="iErr'+t+'" style="color:red;"></label>',document.getElementById("utablename"+t).innerHTML="テーブル名："+l.table,document.getElementById("utablename"+t).innerHTML="テーブル名："+l.table+'　　　<button id="ubtn'+t+'" onClick="return tableUpdate'+t+'()">変更要素を確定</button><label id="uErr'+t+'" style="color:red;"></label>',document.getElementById("dtablename"+t).innerHTML="テーブル名："+l.table+'　<br><button class="daBtn" onClick="tableReset'+t+'()" >テーブルの全データ破棄</button>      <button class="dBtn" onClick="tableDelete'+t+'()" >テーブルの削除</button>',document.getElementById("stablename"+t).innerHTML="テーブル名："+l.table+'　<input type="checkbox" id="sCheck"'+t+' name="scb'+t+'" checked="checked">列省略　　<button id="sBtn'+t+'" onClick="tableSelect'+t+'()" >テーブルを参照するSQL表示</button>'}}$(function(){var e=[[[]]];document.getElementById("ctablename0").innerHTML="",document.getElementById("ctablename1").innerHTML="",document.getElementById("ctablename2").innerHTML="",document.getElementById("ctable0").style.display="none",document.getElementById("ctable1").style.display="none",document.getElementById("ctable2").style.display="none",e=getData(),makeTitle(),cTableMake(e)}),$(".create").click(function(){var e=[[[]]];document.getElementById("ctablename0").innerHTML="",document.getElementById("ctablename1").innerHTML="",document.getElementById("ctablename2").innerHTML="",document.getElementById("ctable0").style.display="none",document.getElementById("ctable1").style.display="none",document.getElementById("ctable2").style.display="none",e=getData(),makeTitle(),cTableMake(e)}),$(".insert").click(function(){var e=[[[]]];document.getElementById("itablename0").innerHTML="",document.getElementById("itablename1").innerHTML="",document.getElementById("itablename2").innerHTML="",document.getElementById("itable0").style.display="none",document.getElementById("itable1").style.display="none",document.getElementById("itable2").style.display="none",e=getData(),makeTitle(),iTableMake(e),sql=sessionStorage.getItem("insertState"),sql&&$("#imain_sqlarea").val(sql)}),$(".update").click(function(){var e=[[[]]];document.getElementById("utablename0").innerHTML="",document.getElementById("utablename1").innerHTML="",document.getElementById("utablename2").innerHTML="",document.getElementById("utable0").style.display="none",document.getElementById("utable1").style.display="none",document.getElementById("utable2").style.display="none",e=getData(),makeTitle(),uTableMake(e),sql=sessionStorage.getItem("updateState"),sql&&$("#umain_sqlarea").val(sql)}),$(".delete").click(function(){var e=[[[]]];document.getElementById("dtablename0").innerHTML="",document.getElementById("dtablename1").innerHTML="",document.getElementById("dtablename2").innerHTML="",document.getElementById("dtable0").style.display="none",document.getElementById("dtable1").style.display="none",document.getElementById("dtable2").style.display="none",e=getData(),makeTitle(),dTableMake(e),sql=sessionStorage.getItem("dropState"),sql&&$("#dmain_sqlarea").val(sql)}),$(".select").click(function(){var e=[[[]]];document.getElementById("stablename0").innerHTML="",document.getElementById("stablename1").innerHTML="",document.getElementById("stablename2").innerHTML="",document.getElementById("stable0").style.display="none",document.getElementById("stable1").style.display="none",document.getElementById("stable2").style.display="none",e=getData(),makeTitle(),sTableMake(e)}),window.tabledelete=function(){function e(){for(var e in T.data);T.data.splice(0,e+1),console.log("start action clearAll"),c=0}function t(){console.log("start action equal");for(var e in T.data)for(var t in T.data[e])t==deletecondition1&&T.data[e][t]==deletecondition3&&(console.log("match this columns >>> loaclStorage : key = "+localStorage.key(b)+" >>> data >>>  Line >>> "+e+" >>> "+t+" = "+T.data[e][t]),r[i]=T.data[e],i++)}function a(){console.log("start action dainari");for(var e in T.data)for(var t in T.data[e])t==deletecondition1&&+T.data[e][t]>deletecondition3&&(console.log("match this columns >>> loaclStorage : key = "+localStorage.key(b)+" >>> data >>>  Line >>> "+e+" >>> "+t+" = "+T.data[e][t]),r[i]=T.data[e],i++)}function n(){console.log("start action syounari");for(var e in T.data)for(var t in T.data[e])t==deletecondition1&&+T.data[e][t]<deletecondition3&&(console.log("match this columns >>> loaclStorage : key = "+localStorage.key(b)+" >>> data >>>  Line >>> "+e+" >>> "+t+" = "+T.data[e][t]),r[i]=T.data[e],i++)}function l(){console.log("start action dainari equal");for(var e in T.data)for(var t in T.data[e])t==deletecondition1&&+T.data[e][t]>=deletecondition3&&(console.log("match this columns >>> loaclStorage : key = "+localStorage.key(b)+" >>> data >>>  Line >>> "+e+" >>> "+t+" = "+T.data[e][t]),r[i]=T.data[e],i++)}function o(){console.log("start action syounari equal");for(var e in T.data){console.log(e);for(var t in T.data[e])t==deletecondition1&&+T.data[e][t]<=deletecondition3&&(console.log("match this columns >>> loaclStorage : key = "+localStorage.key(b)+" >>> data >>>  Line >>> "+e+" >>> "+t+" = "+T.data[e][t]),r[i]=T.data[e],i++)}}var r=[],i=0,d=0,c=0,s="",m=document.getElementById("cdspace_parts"),g=m.getElementsByClassName("ddrop checked").length;for(+d;+g>+d;+d++){console.log(g),console.log(d);var u=$(".dspace").children("div:eq("+d+")"),y=u.attr("name"),S=document.getElementsByName("a"+(+y+1))[0].value;if($("*[name="+y+"] > div > div").length){console.log("find"),deletecondition1=document.getElementsByName("a"+(+y+2))[0].value,deletecondition2=document.getElementsByName("a"+(+y+3))[0].value,deletecondition3=document.getElementsByName("a"+(+y+4))[0].value,console.log(deletecondition1.toString()),console.log(deletecondition2.toString()),console.log(deletecondition3.toString());var f=deletecondition1.toString(),v=deletecondition3.toString(),E="";"equal"==deletecondition2?E="=":"dainari"==deletecondition2?E=">":"syounari"==deletecondition2?E="<":"dainari equal"==deletecondition2?E=">=":"syounari equal"==deletecondition2&&(E="<=");var h="";h="DELETE FROM "+S+" WHERE "+f+" "+E+" "+v+";"}else{console.log("undefind"),c=1;var h="";h="DELETE FROM "+S+";"}var b=0;for(b;localStorage.key(b);b++){console.log(localStorage.key(b));var I=localStorage.key(b),T=JSON.parse(localStorage.getItem(I));if(console.log(T.table),T.table==S){1==c?e():"equal"==deletecondition2?t():"dainari"==deletecondition2?a():"syounari"==deletecondition2?n():"dainari equal"==deletecondition2?l():"syounari equal"==deletecondition2&&o();for(var p in r)for(var B in T.data)T.data[B]==r[p]&&(T.data.splice(B,1),console.log("delete finish"));console.log(r[0]),console.log(r[1]),s=s+h+"\n",console.log(s),localStorage.setItem(localStorage.key(b),JSON.stringify(T))}}}console.log(s),console.log("stop"),sessionStorage.setItem("dropState",s),s&&$("#dmain_sqlarea").val(s),data1=[[[]]],data1=getData(),makeTitle(),dTableMake(data1)},window.tableDelete0=function(){var e=localStorage.key(0),t=localStorage.getItem(e),a=JSON.parse(t),n="DROP TABLE "+a.table+";";if(sessionStorage.setItem("dropState",n),localStorage.removeItem(e),1==localStorage.length){var l=localStorage.getItem(1);localStorage.setItem(0,l),localStorage.removeItem(1)}if(2==localStorage.length){var l=localStorage.getItem(1);localStorage.setItem(0,l),localStorage.removeItem(1);var l=localStorage.getItem(2);localStorage.setItem(1,l),localStorage.removeItem(2)}if(localStorage.length>=3)for(var o=1;o<=localStorage.length;o++){var l=localStorage.getItem(o);localStorage.setItem(o-1,l),localStorage.removeItem(o)}var r=[[[]]];document.getElementById("dtablename0").innerHTML="",document.getElementById("dtablename1").innerHTML="",document.getElementById("dtablename2").innerHTML="",document.getElementById("dtable0").style.display="none",document.getElementById("dtable1").style.display="none",document.getElementById("dtable2").style.display="none",n=sessionStorage.getItem("dropState"),n&&$("#dmain_sqlarea").val(n),r=getData(),makeTitle(),dTableMake(r)},window.tableDelete1=function(){var e=localStorage.key(1),t=localStorage.getItem(e),a=JSON.parse(t),n="DROP TABLE "+a.table+";";sessionStorage.setItem("dropState",n);var e=localStorage.key(1);if(localStorage.removeItem(e),2==localStorage.length){var l=localStorage.getItem(2);localStorage.setItem(1,l),localStorage.removeItem(2)}if(localStorage.length>=3)for(var o=2;o<=localStorage.length;o++){var l=localStorage.getItem(o);localStorage.setItem(o-1,l),localStorage.removeItem(o)}var r=[[[]]];document.getElementById("dtablename0").innerHTML="",document.getElementById("dtablename1").innerHTML="",document.getElementById("dtablename2").innerHTML="",document.getElementById("dtable0").style.display="none",document.getElementById("dtable1").style.display="none",document.getElementById("dtable2").style.display="none",n=sessionStorage.getItem("dropState"),n&&$("#dmain_sqlarea").val(n),r=getData(),makeTitle(),dTableMake(r)},window.tableDelete2=function(){var e=localStorage.key(2),t=localStorage.getItem(e),a=JSON.parse(t),n="DROP TABLE "+a.table+";";if(sessionStorage.setItem("dropState",n),localStorage.removeItem(e),localStorage.length>=3)for(var l=3;l<=localStorage.length;l++){var o=localStorage.getItem(l);localStorage.setItem(l-1,o),localStorage.removeItem(l)}var r=[[[]]];document.getElementById("dtablename0").innerHTML="",document.getElementById("dtablename1").innerHTML="",document.getElementById("dtablename2").innerHTML="",document.getElementById("dtable0").style.display="none",document.getElementById("dtable1").style.display="none",document.getElementById("dtable2").style.display="none",n=sessionStorage.getItem("dropState"),n&&$("#dmain_sqlarea").val(n),r=getData(),makeTitle(),dTableMake(r)},window.tableReset0=function(){var e=localStorage.key(0),t=localStorage.getItem(e),a=[[[]]],a=getData(),n=a[0][0].length;t=JSON.parse(t);var l="DELETE FROM "+t.table+";";sessionStorage.setItem("dropState",l),t.data.splice(0,n),t=JSON.stringify(t),localStorage.setItem(e,t),l&&$("#dmain_sqlarea").val(l),makeTitle(),dTableMake(a)},window.tableReset1=function(){var e=localStorage.key(1),t=localStorage.getItem(e),a=[[[]]],a=getData(),n=a[0][1].length;t=JSON.parse(t);var l="DELETE FROM "+t.table+";";sessionStorage.setItem("dropState",l),t.data.splice(0,n),t=JSON.stringify(t),localStorage.setItem(e,t),l&&$("#dmain_sqlarea").val(l),makeTitle(),dTableMake(a)},window.tableReset2=function(){var e=localStorage.key(2),t=localStorage.getItem(e),a=[[[]]],a=getData(),n=a[0][2].length;t=JSON.parse(t);var l="DELETE FROM "+t.table+";";sessionStorage.setItem("dropState",l),t.data.splice(0,n),t=JSON.stringify(t),localStorage.setItem(e,t),l&&$("#dmain_sqlarea").val(l),makeTitle(),dTableMake(a)},window.tableInsert0=function(){var e=localStorage.key(0),t={};t=localStorage.getItem(e);var a=JSON.parse(t),n=[[[]]];n=getData();for(var l=hot0.getDataAtRow(n[0][0].length),o=0;o<l.length;o++)null==l[o]?l[o]=null:(l[o]=String(l[o]),l[o]=l[o].trim());for(var r=0;r<a.columns.length;r++){if(null!=l[r]){if("int"==a.columns[r].dataType&&!l[r].match(/^[1-9][0-9]*$/))return document.getElementById("iErr0").innerText='　int型の"'+a.columns[r].name+'"の列の値に格納できるのは整数値のみです。',!1;if("char"==a.columns[r].dataType&&a.columns[r].leng!=l[r].length)return document.getElementById("iErr0").innerText='　char型の"'+a.columns[r].name+'"の列の値に格納できる文字列は'+a.columns[r].leng+"桁の固定長のみです。",!1;if(a.columns[r].leng<l[r].length)return document.getElementById("iErr0").innerText='　"'+a.columns[r].name+'"の列に格納できる値は'+a.columns[r].leng+"桁までです。",!1}for(var i=0;i<a.columns[r]["const"].length;i++){if("not null"==a.columns[r]["const"][i]&&(null==l[r]||""==l[r]))return document.getElementById("iErr0").innerText='　not null制約の"'+a.columns[r].name+'"の列の値にnullが含まれています。',!1;for(var d=0;d<n[0][0].length;d++)if("unique key"==a.columns[r]["const"][i]&&null!=l[r]&&n[0][0][d][r]==l[r])return document.getElementById("iErr0").innerText='　unique key制約の"'+a.columns[r].name+'"の列の値に重複する値が含まれています。',!1;if("primary key"==a.columns[r]["const"][i]&&(null==l[r]||""==l[r]))return document.getElementById("iErr0").innerText='　主キー制約の"'+a.columns[r].name+'"の列の値にnullが含まれています。',!1;for(var d=0;d<n[0][0].length;d++)if("primary key"==a.columns[r]["const"][i]&&n[0][0][d][r]==l[r])return document.getElementById("iErr0").innerText='　主キー制約の"'+a.columns[r].name+'"の列の値に一意でない値が含まれています。',!1}}var c=hot0.getColHeader(),s={};s[c[0]]=l[0];for(var m=1;m<c.length;m++)s[c[m]]=l[m];t=JSON.parse(t),t.data[t.data.length]=s;var g="INSERT INTO "+t.table+" VALUES( "+l+" );";sessionStorage.setItem("insertState",g),g&&$("#imain_sqlarea").val(g);var u=JSON.stringify(t);localStorage.setItem(e,u),n=getData(),iTableMake(n)},window.tableInsert1=function(){var e=localStorage.key(1),t={};t=localStorage.getItem(e);var a=JSON.parse(t),n=[[[]]];n=getData();for(var l=hot1.getDataAtRow(n[0][1].length),o=0;o<l.length;o++)null==l[o]?l[o]=null:(l[o]=String(l[o]),l[o]=l[o].trim());for(var r=0;r<a.columns.length;r++){if(null!=l[r]){if("int"==a.columns[r].dataType&&!l[r].match(/^[1-9][0-9]*$/))return document.getElementById("iErr1").innerText='　int型の"'+a.columns[r].name+'"の列の値に格納できるのは整数値のみです。',!1;if("char"==a.columns[r].dataType&&a.columns[r].leng!=l[r].length)return document.getElementById("iErr1").innerText='　char型の"'+a.columns[r].name+'"の列の値に格納できる文字列は'+a.columns[r].leng+"桁の固定長のみです。",!1;if(a.columns[r].leng<l[r].length)return document.getElementById("iErr1").innerText='　"'+a.columns[r].name+'"の列に格納できる値は'+a.columns[r].leng+"桁までです。",!1}for(var i=0;i<a.columns[r]["const"].length;i++){if("not null"==a.columns[r]["const"][i]&&(null==l[r]||""==l[r]))return document.getElementById("iErr1").innerText='　not null制約の"'+a.columns[r].name+'"の列の値にnullが含まれています。',!1;for(var d=0;d<n[0][1].length;d++)if("unique key"==a.columns[r]["const"][i]&&null!=l[r]&&n[0][1][d][r]==l[r])return document.getElementById("iErr1").innerText='　unique key制約の"'+a.columns[r].name+'"の列の値に重複する値が含まれています。',!1;if("primary key"==a.columns[r]["const"][i]&&(null==l[r]||""==l[r]))return document.getElementById("iErr1").innerText='　主キー制約の"'+a.columns[r].name+'"の列の値にnullが含まれています。',!1;for(var d=0;d<n[0][1].length;d++)if("primary key"==a.columns[r]["const"][i]&&n[0][1][d][r]==l[r])return document.getElementById("iErr1").innerText='　主キー制約の"'+a.columns[r].name+'"の列の値に一意でない値が含まれています。',!1}}var c=hot1.getColHeader(),s={};s[c[0]]=l[0];for(var m=1;m<c.length;m++)s[c[m]]=l[m];t=JSON.parse(t),t.data[t.data.length]=s;var g="INSERT INTO "+t.table+" VALUES( "+l+" );";sessionStorage.setItem("insertState",g),g&&$("#imain_sqlarea").val(g);var u=JSON.stringify(t);localStorage.setItem(e,u),n=getData(),iTableMake(n)},window.tableInsert2=function(){var e=localStorage.key(2),t={};t=localStorage.getItem(e);var a=JSON.parse(t),n=[[[]]];n=getData();for(var l=hot2.getDataAtRow(n[0][2].length),o=0;o<l.length;o++)null==l[o]?l[o]=null:(l[o]=String(l[o]),l[o]=l[o].trim());for(var r=0;r<a.columns.length;r++){if(null!=l[r]){if("int"==a.columns[r].dataType&&!l[r].match(/^[1-9][0-9]*$/))return document.getElementById("iErr2").innerText='　int型の"'+a.columns[r].name+'"の列の値に格納できるのは整数値のみです。',!1;if("char"==a.columns[r].dataType&&a.columns[r].leng!=l[r].length)return document.getElementById("iErr2").innerText='　char型の"'+a.columns[r].name+'"の列の値に格納できる文字列は'+a.columns[r].leng+"桁の固定長のみです。",!1;if(a.columns[r].leng<l[r].length)return document.getElementById("iErr2").innerText='　"'+a.columns[r].name+'"の列に格納できる値は'+a.columns[r].leng+"桁までです。",!1}for(var i=0;i<a.columns[r]["const"].length;i++){if("not null"==a.columns[r]["const"][i]&&(null==l[r]||""==l[r]))return document.getElementById("iErr2").innerText='　not null制約の"'+a.columns[r].name+'"の列の値にnullが含まれています。',!1;for(var d=0;d<n[0][2].length;d++)if("unique key"==a.columns[r]["const"][i]&&null!=l[r]&&n[0][2][d][r]==l[r])return document.getElementById("iErr2").innerText='　unique key制約の"'+a.columns[r].name+'"の列の値に重複する値が含まれています。',!1;if("primary key"==a.columns[r]["const"][i]&&(null==l[r]||""==l[r]))return document.getElementById("iErr2").innerText='　主キー制約の"'+a.columns[r].name+'"の列の値にnullが含まれています。',!1;for(var d=0;d<n[0][2].length;d++)if("primary key"==a.columns[r]["const"][i]&&n[0][2][d][r]==l[r])return document.getElementById("iErr2").innerText='　主キー制約の"'+a.columns[r].name+'"の列の値に一意でない値が含まれています。',!1}}var c=hot2.getColHeader(),s={};s[c[0]]=l[0];for(var m=1;m<c.length;m++)s[c[m]]=l[m];t=JSON.parse(t),t.data[t.data.length]=s;var g="INSERT INTO "+t.table+" VALUES( "+l+" );";sessionStorage.setItem("insertState",g),g&&$("#imain_sqlarea").val(g);var u=JSON.stringify(t);localStorage.setItem(e,u),n=getData(),iTableMake(n)},window.tableSelect0=function(){var e=localStorage.key(0),t={};t=localStorage.getItem(e);var a=JSON.parse(t),n=[[[]]];n=getData();var l,o=$("#smain_sqlarea"),r=(hot0.getDataAtRow(n[0][0].length),hot0.getColHeader());1==$("[name=scb0]").prop("checked")?(l="SELECT * FROM "+a.table+";",sessionStorage.setItem("selectState",l)):(l="SELECT "+r+" FROM "+a.table+";",sessionStorage.setItem("selectState",l)),l&&o.val(l)},window.tableSelect1=function(){var e=localStorage.key(1),t={};t=localStorage.getItem(e);var a=JSON.parse(t),n=[[[]]];n=getData();var l,o=$("#smain_sqlarea"),r=(hot1.getDataAtRow(n[0][1].length),hot1.getColHeader());1==$("[name=scb1]").prop("checked")?(l="SELECT * FROM "+a.table+";",sessionStorage.setItem("selectState",l)):(l="SELECT "+r+" FROM "+a.table+";",sessionStorage.setItem("selectState",l)),l&&o.val(l)},window.tableSelect2=function(){var e=localStorage.key(2),t={};t=localStorage.getItem(e);var a=JSON.parse(t),n=[[[]]];n=getData();var l,o=$("#smain_sqlarea"),r=(hot2.getDataAtRow(n[0][2].length),hot2.getColHeader());1==$("[name=scb2]").prop("checked")?(l="SELECT * FROM "+a.table+";",sessionStorage.setItem("selectState",l)):(l="SELECT "+r+" FROM "+a.table+";",sessionStorage.setItem("selectState",l)),l&&o.val(l)}});

},{}],12:[function(require,module,exports){
$(function(){"use strict";function e(){var e,t,n,r,a,m,c,i,o=10,u=11,l=12,d=13,s=14,g=0,y=document.forms.param,E=document.getElementById("cspace_parts"),f=E.getElementsByClassName("drop ui-droppable ui-draggable").length,I=0,B=y.table_name.value.toString();if(B.match(/[^0-9a-zA-Z-_]+/))return document.getElementById("cErr").innerText="表名に指定できる文字は半角英数字のみです。",!1;if(!B.match(/\S/g))return document.getElementById("cErr").innerText="表名を入力してください。",!1;var p=[""],v=[];for(a=0;f>a;a++){if(c=document.getElementById("a"+o),r=document.param.elements["a"+u].value,r.match(/[^0-9a-zA-Z-_]+/))return document.getElementById("cErr").innerText="列名に指定できる文字は半角英数字のみです。",!1;if(!r.match(/\S/g))return document.getElementById("cErr").innerText="列名を入力してください。",!1;if(n=document.param.elements["a"+l].value,t=document.param.elements["a"+d].value,console.log(t),!t.match(/^[1-9]\d*$/))return document.getElementById("cErr").innerText="列に指定する文字数制限は半角数字で入力してください。",!1;for(i=c.getElementsByClassName("limit").length,g=s,m=0;i>m;m++){if(v[m]=document.param.elements["a"+g].value,$.inArray("auto increment",v)>=0&&"int"!=n)return document.getElementById("cErr").innerText="auto incrementを設定した列にはint型のみ設定することができます。",!1;g+=1}if($.inArray("primary key",v)>=0&&(I=1),$.inArray("auto increment",v)>=0&&-1==$.inArray("primary key",v))return document.getElementById("cErr").innerText="auto incrementを設定した列には主キー制約を設定する必要があります。",!1;for(var S=0;a>S;S++){if(p[S].name==colum)return document.getElementById("cErr").innerText="列名が重複しています。",!1;if($.inArray("auto increment",p[S]["const"])>=0&&$.inArray("auto increment",v)>=0)return document.getElementById("cErr").innerText="auto incrementは１つの表に対して１つの列にだけ設定することができます。",!1}p[a]={name:r,dataType:n,leng:t,"const":v},v=[],o+=10,u+=10,l+=10,d+=10,s+=10}return 0==I?(document.getElementById("cErr").innerText="主キーが設定されていません。",!1):e={table:B,columns:p,constraint:{},data:[]}}var t,n=require("./createSql.js"),r=$(".cmain_btn"),a=$("#cmain_sqlarea");t=sessionStorage.getItem("createState"),t&&a.val(t),r.on("click",function(){var t=e();if(!t)return!1;var r=n.create(t);sessionStorage.setItem("createState",r),localStorage.setItem(localStorage.length,JSON.stringify(t))})});

},{"./createSql.js":7}]},{},[7,8,9,10,11,12])


//# sourceMappingURL=bundle.min.js.map
